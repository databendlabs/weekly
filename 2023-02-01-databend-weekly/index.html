<!DOCTYPE html>
<html lang="en">

<head>
    <title>Databend Weekly</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://weekly.databend.rs/style.css">
    <link rel="stylesheet" href="https://weekly.databend.rs/color/blue.css">

    <link rel="stylesheet" href="https://weekly.databend.rs/font-hack.css">

    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://weekly.databend.rs" style="text-decoration: none;">
                    <div class="logo">
                            Databend Weekly
                        </div>
                </a>
            </div>
        </div>

        <nav class="menu">
            <ul class="menu__inner">
                
                <li class="active"><a href="https://weekly.databend.rs">weekly</a></li>
            
                <li><a href="https://weekly.databend.rs/archive">archive</a></li>
            
                <li><a href="https://github.com/datafuselabs/databend" target="_blank" rel="noopener noreferrer">github</a></li>
            
                <li><a href="https://databend.rs/" target="_blank" rel="noopener noreferrer">docs</a></li>
            
                <li><a href="https://weekly.databend.rs/rss.xml">rss</a></li>
            </ul>
        </nav>
    
    </header>
    

    <div class="content">
        
    <div class="post">
        
    <h1 class="post-title"><a href="https://weekly.databend.rs/2023-02-01-databend-weekly/">This Week in Databend #79</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2023-02-01
        </span>

    </div>

    

        
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is a powerful cloud data warehouse. Built for elasticity and efficiency. Free and open. Also available in the cloud: <a href="https://app.databend.com">https://app.databend.com</a> .</p>
<blockquote>
<p><strong>Special Note:</strong> <a href="https://weekly.databend.rs/"><em>This Week in Databend</em></a> will be gradually migrated to the <a href="https://databend.rs/blog"><em>Databend Blog</em></a>. We will keep the content in sync until the final migration is complete.</p>
</blockquote>
<h2 id="what-s-new">What's New</h2>
<p>Check out what we've done this week to make Databend even better for you.</p>
<h3 id="features-improvements-sparkles">Features &amp; Improvements ✨</h3>
<p><strong>AST</strong></p>
<ul>
<li>add syntax about parsing presign options with content type (<a href="https://github.com/datafuselabs/databend/pull/9771">#9771</a>)</li>
</ul>
<p><strong>Format</strong></p>
<ul>
<li>add TSV file format back (<a href="https://github.com/datafuselabs/databend/pull/9732">#9732</a>)</li>
</ul>
<p><strong>Functions</strong></p>
<ul>
<li>support array functions prepend and append (<a href="https://github.com/datafuselabs/databend/pull/9844">#9844</a>)</li>
<li>support array concat (<a href="https://github.com/datafuselabs/databend/pull/9804">#9804</a>)</li>
</ul>
<p><strong>Query</strong></p>
<ul>
<li>add topn runtime filter in native storage format (<a href="https://github.com/datafuselabs/databend/pull/9738">#9738</a>)</li>
<li>enable hashtable state pass from partial to final (<a href="https://github.com/datafuselabs/databend/pull/9809">#9809</a>)</li>
</ul>
<p><strong>Storage</strong></p>
<ul>
<li>add pruning stats to EXPLAIN (<a href="https://github.com/datafuselabs/databend/pull/9724">#9724</a>)</li>
<li>cache bloom index object (<a href="https://github.com/datafuselabs/databend/pull/9712">#9712</a>)</li>
</ul>
<h3 id="code-refactoring-tada">Code Refactoring 🎉</h3>
<ul>
<li>'select from stage' use ParquetTable (<a href="https://github.com/datafuselabs/databend/pull/9801">#9801</a>)</li>
</ul>
<p><strong>Meta</strong></p>
<ul>
<li>expose a single &quot;kvapi&quot; as public interface (<a href="https://github.com/datafuselabs/databend/pull/9791">#9791</a>)</li>
<li>do not remove the last node from a cluster (<a href="https://github.com/datafuselabs/databend/pull/9781">#9781</a>)</li>
</ul>
<p><strong>AST/Expression/Planner</strong></p>
<ul>
<li>unify Span and Result (<a href="https://github.com/datafuselabs/databend/pull/9713">#9713</a>)</li>
</ul>
<p><strong>Executor</strong></p>
<ul>
<li>merge simple pipe and resize pipe (<a href="https://github.com/datafuselabs/databend/pull/9782">#9782</a>)</li>
</ul>
<h3 id="bug-fixes-wrench">Bug Fixes 🔧</h3>
<p><strong>Base</strong></p>
<ul>
<li>fix not linux and macos jemalloc fallback to std (<a href="https://github.com/datafuselabs/databend/pull/9786">#9786</a>)</li>
</ul>
<p><strong>Config</strong></p>
<ul>
<li>fix table_meta_cache can't be disabled (<a href="https://github.com/datafuselabs/databend/pull/9767">#9767</a>)</li>
</ul>
<p><strong>Meta</strong></p>
<ul>
<li>when import data to meta-service dir, the specified &quot;id&quot; has to be one of the &quot;initial_cluster&quot; (<a href="https://github.com/datafuselabs/databend/pull/9755">#9755</a>)</li>
</ul>
<p><strong>Query</strong></p>
<ul>
<li>fix and refactor aggregator (<a href="https://github.com/datafuselabs/databend/pull/9748">#9748</a>)</li>
<li>fix memory leak for data port (<a href="https://github.com/datafuselabs/databend/pull/9762">#9762</a>)</li>
<li>fix panic when cast jsonb to string (<a href="https://github.com/datafuselabs/databend/pull/9813">#9813</a>)</li>
</ul>
<p><strong>Storage</strong></p>
<ul>
<li>fix up max_file_size may oom (<a href="https://github.com/datafuselabs/databend/pull/9740">#9740</a>)</li>
</ul>
<h2 id="what-s-on-in-databend">What's On In Databend</h2>
<p>Stay connected with the latest news about Databend.</p>
<h3 id="dml-command-update">DML Command - UPDATE</h3>
<p>Modifies rows in a table with new values.</p>
<blockquote>
<p><strong>Note:</strong> Databend guarantees data integrity. In Databend, Insert, Update, and Delete operations are guaranteed to be atomic, which means that all data in the operation must succeed or all must fail.</p>
</blockquote>
<p><strong>Syntax</strong></p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>UPDATE &lt;table_name&gt;
</span><span>SET &lt;col_name&gt; = &lt;value&gt; [ , &lt;col_name&gt; = &lt;value&gt; , ... ]
</span><span>    [ FROM &lt;table_name&gt; ]
</span><span>    [ WHERE &lt;condition&gt; ]
</span></code></pre>
<p><strong>Learn More</strong></p>
<ul>
<li><a href="https://databend.rs/doc/sql-commands/dml/dml-update">Docs | DML Command - UPDATE</a></li>
</ul>
<h2 id="what-s-up-next">What's Up Next</h2>
<p>We're always open to cutting-edge technologies and innovative ideas. You're more than welcome to join the community and bring them to Databend.</p>
<h3 id="support-arrow-flight-sql-protocol">Support Arrow Flight SQL Protocol</h3>
<p>Currently Databend supports the MySQL protocol, and it would be great if Databend could support the Arrow Flight SQL protocol as well.</p>
<p>Typically a lakehouse stores data in parquet files using the MySQL protocol while Databend has to do deserialization from parquet to arrow and then back to MySQL data types. Again on the caller end users use data frames or MySQL result iterators, which also requires serialization of types. With Arrow Flight SQL all of these back and forth serialization costs can be avoided.</p>
<p><a href="https://github.com/datafuselabs/databend/issues/9832">Issue 9832: Feature: Support Arrow Flight SQL protocol</a></p>
<p>Please let us know if you're interested in contributing to this issue, or pick up a good first issue at <a href="https://link.databend.rs/i-m-feeling-lucky">https://link.databend.rs/i-m-feeling-lucky</a> to get started.</p>
<h2 id="changelog">Changelog</h2>
<p>You can check the changelog of Databend Nightly for details about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.21-nightly">v0.9.21-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.20-nightly">v0.9.20-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.19-nightly">v0.9.19-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.18-nightly">v0.9.18-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.17-nightly">v0.9.17-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.16-nightly">v0.9.16-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.15-nightly">v0.9.15-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/andylokandy"><img alt="andylokandy" src="https://avatars.githubusercontent.com/u/9637710?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/ariesdevil"><img alt="ariesdevil" src="https://avatars.githubusercontent.com/u/7812909?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/apps/dependabot"><img alt="dependabot" src="https://avatars.githubusercontent.com/in/29110?v=4&s=117" width="117" /></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/andylokandy">andylokandy</a></td><td align="center"><a href="https://github.com/ariesdevil">ariesdevil</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td><td align="center"><a href="https://github.com/apps/dependabot">dependabot</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/drmingdrmer"><img alt="drmingdrmer" src="https://avatars.githubusercontent.com/u/44069?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/everpcpc"><img alt="everpcpc" src="https://avatars.githubusercontent.com/u/1808802?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/flaneur2020"><img alt="flaneur2020" src="https://avatars.githubusercontent.com/u/129800?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/johnhaxx7"><img alt="johnhaxx7" src="https://avatars.githubusercontent.com/u/12479235?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117" /></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/drmingdrmer">drmingdrmer</a></td><td align="center"><a href="https://github.com/everpcpc">everpcpc</a></td><td align="center"><a href="https://github.com/flaneur2020">flaneur2020</a></td><td align="center"><a href="https://github.com/johnhaxx7">johnhaxx7</a></td><td align="center"><a href="https://github.com/leiysky">leiysky</a></td><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/RinChanNOWWW"><img alt="RinChanNOWWW" src="https://avatars.githubusercontent.com/u/33975039?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/TCeason"><img alt="TCeason" src="https://avatars.githubusercontent.com/u/33082201?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117" /></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td><td align="center"><a href="https://github.com/RinChanNOWWW">RinChanNOWWW</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td><td align="center"><a href="https://github.com/TCeason">TCeason</a></td><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/yufan022"><img alt="yufan022" src="https://avatars.githubusercontent.com/u/30121694?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/zhang2014"><img alt="zhang2014" src="https://avatars.githubusercontent.com/u/8087042?v=4&s=117" width="117" /></a></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/yufan022">yufan022</a></td><td align="center"><a href="https://github.com/zhang2014">zhang2014</a></td><td align="center"></td><td align="center"></td><td align="center"></td></tr>
</tbody></table>
<h2 id="connect-with-us">Connect With Us</h2>
<p>We'd love to hear from you. Feel free to run the code and see if Databend works for you. Submit an issue with your problem if you need help.</p>
<p><a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> is open to everyone who loves data warehouses. Please join the community and share your thoughts.</p>
<ul>
<li><a href="https://databend.rs">Databend Official Website</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a> (Feature requests, bug reports, and contributions)</li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a> (Stay in the know)</li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a> (Chat with the community)</li>
</ul>

        </div>

        
        <div class="pagination">
            <div class="pagination__title">
                <span class="pagination__title-h">Thanks for reading! Read other posts?</span>
                <hr />
            </div>
            <div class="pagination__buttons">
                    <span class="button previous">
                        <a href="https://weekly.databend.rs/2023-02-08-databend-weekly/">
                            <span class="button__icon">←</span>&nbsp;
                            <span class="button__text">This Week in Databend #80</span>
                        </a>
                    </span>
                
                
                    <span class="button next">
                        <a href="https://weekly.databend.rs/2023-01-25-databend-weekly/">
                            <span class="button__text">This Week in Databend #78</span>&nbsp;
                            <span class="button__icon">→</span>
                        </a>
                    </span>
                </div>
        </div>
    
    </div>

    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>© 
    2023
 Datafuse Labs</span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
