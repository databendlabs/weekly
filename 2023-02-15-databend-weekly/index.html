<!DOCTYPE html>
<html lang="en">

<head>
    <title>Databend Weekly</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://weekly.databend.rs/style.css">
    <link rel="stylesheet" href="https://weekly.databend.rs/color/blue.css">

    <link rel="stylesheet" href="https://weekly.databend.rs/font-hack.css">

    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://weekly.databend.rs" style="text-decoration: none;">
                    <div class="logo">
                            Databend Weekly
                        </div>
                </a>
            </div>
        </div>

        <nav class="menu">
            <ul class="menu__inner">
                
                <li class="active"><a href="https://weekly.databend.rs">weekly</a></li>
            
                <li><a href="https://weekly.databend.rs/archive">archive</a></li>
            
                <li><a href="https://github.com/datafuselabs/databend" target="_blank" rel="noopener noreferrer">github</a></li>
            
                <li><a href="https://databend.rs/" target="_blank" rel="noopener noreferrer">docs</a></li>
            
                <li><a href="https://weekly.databend.rs/rss.xml">rss</a></li>
            </ul>
        </nav>
    
    </header>
    

    <div class="content">
        
    <div class="post">
        
    <h1 class="post-title"><a href="https://weekly.databend.rs/2023-02-15-databend-weekly/">This Week in Databend #81</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2023-02-15
        </span>

    </div>

    

        
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is a modern cloud data warehouse, serving your massive-scale analytics needs at low cost and complexity. Open source alternative to Snowflake. Also available in the cloud: <a href="https://app.databend.com">https://app.databend.com</a> .</p>
<blockquote>
<p><strong>Special Note:</strong> <a href="https://weekly.databend.rs/"><em>This Week in Databend</em></a> will be gradually migrated to the <a href="https://databend.rs/blog"><em>Databend Blog</em></a>. We will keep the content in sync until the final migration is complete.</p>
</blockquote>
<h2 id="what-s-new">What's New</h2>
<p>Check out what we've done this week to make Databend even better for you.</p>
<h3 id="accepted-rfcs-airplane-departure">Accepted RFCs ðŸ›«</h3>
<ul>
<li>rfc: query result cache (<a href="https://github.com/datafuselabs/databend/pull/10014">#10014</a>)</li>
</ul>
<h3 id="features-improvements-sparkles">Features &amp; Improvements âœ¨</h3>
<p><strong>Planner</strong></p>
<ul>
<li>support <code>EXPLAIN ANALYZE</code> statement to profile query execution (<a href="https://github.com/datafuselabs/databend/pull/10023">#10023</a>)</li>
<li>derive new filter and push down (<a href="https://github.com/datafuselabs/databend/pull/10021">#10021</a>)</li>
</ul>
<p><strong>Query</strong></p>
<ul>
<li>alter table add/drop column SQL support (<a href="https://github.com/datafuselabs/databend/pull/9851">#9851</a>)</li>
<li>new table function <code>infer_schema</code> (<a href="https://github.com/datafuselabs/databend/pull/9936">#9936</a>)</li>
<li>add privilege check for select (<a href="https://github.com/datafuselabs/databend/pull/9924">#9924</a>)</li>
<li>improve signed numeric keys (<a href="https://github.com/datafuselabs/databend/pull/9987">#9987</a>)</li>
<li>support to parse jwt metadata and add multiple identity issuer configuration (<a href="https://github.com/datafuselabs/databend/pull/9971">#9971</a>)</li>
<li>support create file format (<a href="https://github.com/datafuselabs/databend/pull/10009">#10009</a>)</li>
</ul>
<p><strong>Storage</strong></p>
<ul>
<li>adopt OpenDAL's native scan support (<a href="https://github.com/datafuselabs/databend/pull/9985">#9985</a>)</li>
<li>add drop_table_by_id api (<a href="https://github.com/datafuselabs/databend/pull/9990">#9990</a>)</li>
</ul>
<p><strong>Expression</strong></p>
<ul>
<li>add operation for decimal (<a href="https://github.com/datafuselabs/databend/pull/9926">#9926</a>)</li>
</ul>
<p><strong>Functions</strong></p>
<ul>
<li>support <code>array_any</code> function (<a href="https://github.com/datafuselabs/databend/pull/9953">#9953</a>)</li>
<li>support <code>array_sort</code> (<a href="https://github.com/datafuselabs/databend/pull/9941">#9941</a>)</li>
</ul>
<p><strong>Sqllogictest</strong></p>
<ul>
<li>add time travel test for alter table (<a href="https://github.com/datafuselabs/databend/pull/9939">#9939</a>)</li>
</ul>
<h3 id="code-refactoring-tada">Code Refactoring ðŸŽ‰</h3>
<p><strong>Meta</strong></p>
<ul>
<li>move application level types such as user/role/storage-config to crate common-meta/app (<a href="https://github.com/datafuselabs/databend/pull/9944">#9944</a>)</li>
<li>fix abuse of ErrorCode (<a href="https://github.com/datafuselabs/databend/pull/10056">#10056</a>)</li>
</ul>
<p><strong>Query</strong></p>
<ul>
<li>use <code>transform_sort_merge</code> use heap to sort blocks (<a href="https://github.com/datafuselabs/databend/pull/10047">#10047</a>)</li>
</ul>
<p><strong>Storage</strong></p>
<ul>
<li>introduction of FieldIndex and ColumnId types for clear differentiation of use (<a href="https://github.com/datafuselabs/databend/pull/10017">#10017</a>)</li>
</ul>
<h3 id="build-testing-ci-infra-changes-electric-plug">Build/Testing/CI Infra Changes ðŸ”Œ</h3>
<ul>
<li>run benchmark for clickbench result format (<a href="https://github.com/datafuselabs/databend/pull/10019">#10019</a>)</li>
<li>run benchmark both s3 &amp; fs (<a href="https://github.com/datafuselabs/databend/pull/10050">#10050</a>)</li>
</ul>
<h3 id="bug-fixes-wrench">Bug Fixes ðŸ”§</h3>
<p><strong>Privilege</strong></p>
<ul>
<li>add privileges on system.one to PUBLIC by default (<a href="https://github.com/datafuselabs/databend/pull/10040">#10040</a>)</li>
</ul>
<p><strong>Catalog</strong></p>
<ul>
<li>parts was not distributed evenly (<a href="https://github.com/datafuselabs/databend/pull/9951">#9951</a>)</li>
</ul>
<p><strong>Planner</strong></p>
<ul>
<li>type assertion failed on subquery (<a href="https://github.com/datafuselabs/databend/pull/9937">#9937</a>)</li>
<li>enable outer join to inner join optimization (<a href="https://github.com/datafuselabs/databend/pull/9943">#9943</a>)</li>
<li>fix limit pushdown outer join (<a href="https://github.com/datafuselabs/databend/pull/10043">#10043</a>)</li>
</ul>
<p><strong>Query</strong></p>
<ul>
<li>fix add column update bug (<a href="https://github.com/datafuselabs/databend/pull/10037">#10037</a>)</li>
</ul>
<p><strong>Storage</strong></p>
<ul>
<li>fix sub-column of added-tuple column return default 0 bug (<a href="https://github.com/datafuselabs/databend/pull/9973">#9973</a>)</li>
<li>new bloom filter that bind index with Column Id instead of column name (<a href="https://github.com/datafuselabs/databend/pull/10022">#10022</a>)</li>
</ul>
<h2 id="what-s-on-in-databend">What's On In Databend</h2>
<p>Stay connected with the latest news about Databend.</p>
<h3 id="rfc-query-result-cache">RFC: Query Result Cache</h3>
<p>Caching the results of queries against data that doesn't update frequently can greatly reduce response time. Once cached, the result will be returned in a much shorter time if you run the query again.</p>
<ul>
<li><a href="https://databend.rs/doc/contributing/rfcs/query-result-cache">Docs | RFC: Query Result Cache</a></li>
<li><a href="https://github.com/datafuselabs/databend/issues/10011">Tracking Issue | RFC: query result cache</a></li>
</ul>
<h3 id="how-to-write-a-scalar-aggregate-function">How to Write a Scalar / Aggregate Function</h3>
<p>Did you know that you can enhance the power of Databend by creating your own scalar or aggregate functions? Fortunately, it's not a difficult task!</p>
<p>The following guides are intended for Rust developers and Databend users who want to create their own workflows. The guides provide step-by-step instructions on how to create and register your own functions using Rust, along with code snippets and examples of various types of functions to walk you through the process.</p>
<ul>
<li><a href="https://databend.rs/doc/contributing/how-to-write-scalar-functions">Docs | How to Write a Scalar Function</a></li>
<li><a href="https://databend.rs/doc/contributing/how-to-write-aggregate-functions">Docs | How to Write an Aggregate Function</a></li>
</ul>
<h3 id="profile-guided-optimization">Profile-Guided Optimization</h3>
<p>Profile-guided optimization (PGO) is a compiler optimization technique that collects execution data during the program runtime and allows for tailoring optimizations tailored to both hot and cold code paths.</p>
<p>In this blog, we'll guide you through the process of optimizing Databend binary builds using PGO. We'll use Databend's SQL logic tests as an example to illustrate the step-by-step procedure.</p>
<p>Please note that PGO always requires generating perf data using workloads that are statistically representative. However, there's no guarantee that performance will always improve. Decide whether to use it based on your actual needs.</p>
<p><strong>Learn More</strong></p>
<ul>
<li><a href="https://databend.rs/blog/profile-guided-optimization">Blog | Optimizing Databend Binary Builds with Profile-guided Optimization</a></li>
</ul>
<h2 id="what-s-up-next">What's Up Next</h2>
<p>We're always open to cutting-edge technologies and innovative ideas. You're more than welcome to join the community and bring them to Databend.</p>
<h3 id="restructure-function-related-documentation">Restructure function-related documentation</h3>
<p>To make our documentation clearer and easier to understand, we plan to restructure our function-related documentation to follow the same format as DuckDB's documentation. This involves breaking down the task into smaller sub-tasks based on function categories, so that anyone who wants to help improve Databend's documentation can easily get involved.</p>
<p><a href="https://github.com/datafuselabs/databend/issues/10029">Issue 10029: Tracking: re-org the functions doc</a></p>
<p>Please let us know if you're interested in contributing to this issue, or pick up a good first issue at <a href="https://link.databend.rs/i-m-feeling-lucky">https://link.databend.rs/i-m-feeling-lucky</a> to get started.</p>
<h2 id="changelog">Changelog</h2>
<p>You can check the changelog of Databend Nightly for details about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.39-nightly">v0.9.39-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.38-nightly">v0.9.38-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.37-nightly">v0.9.37-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.36-nightly">v0.9.36-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.35-nightly">v0.9.35-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.34-nightly">v0.9.34-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.33-nightly">v0.9.33-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.32-nightly">v0.9.32-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.9.31-nightly">v0.9.31-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/andylokandy"><img alt="andylokandy" src="https://avatars.githubusercontent.com/u/9637710?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/Big-Wuu"><img alt="Big-Wuu" src="https://avatars.githubusercontent.com/u/52322009?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/apps/dependabot"><img alt="dependabot[bot]" src="https://avatars.githubusercontent.com/in/29110?v=4&s=117" width="117" /></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/andylokandy">andylokandy</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/Big-Wuu">Big-Wuu</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td><td align="center"><a href="https://github.com/apps/dependabot">dependabot[bot]</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/drmingdrmer"><img alt="drmingdrmer" src="https://avatars.githubusercontent.com/u/44069?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/everpcpc"><img alt="everpcpc" src="https://avatars.githubusercontent.com/u/1808802?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/flaneur2020"><img alt="flaneur2020" src="https://avatars.githubusercontent.com/u/129800?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/johnhaxx7"><img alt="johnhaxx7" src="https://avatars.githubusercontent.com/u/12479235?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117" /></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/drmingdrmer">drmingdrmer</a></td><td align="center"><a href="https://github.com/everpcpc">everpcpc</a></td><td align="center"><a href="https://github.com/flaneur2020">flaneur2020</a></td><td align="center"><a href="https://github.com/johnhaxx7">johnhaxx7</a></td><td align="center"><a href="https://github.com/leiysky">leiysky</a></td><td align="center"><a href="https://github.com/lichuang">lichuang</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/RinChanNOWWW"><img alt="RinChanNOWWW" src="https://avatars.githubusercontent.com/u/33975039?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/TCeason"><img alt="TCeason" src="https://avatars.githubusercontent.com/u/33082201?v=4&s=117" width="117" /></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td><td align="center"><a href="https://github.com/RinChanNOWWW">RinChanNOWWW</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td><td align="center"><a href="https://github.com/TCeason">TCeason</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/wubx"><img alt="wubx" src="https://avatars.githubusercontent.com/u/320680?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/xxchan"><img alt="xxchan" src="https://avatars.githubusercontent.com/u/37948597?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/yufan022"><img alt="yufan022" src="https://avatars.githubusercontent.com/u/30121694?v=4&s=117" width="117" /></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/wubx">wubx</a></td><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/xxchan">xxchan</a></td><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/yufan022">yufan022</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/zhang2014"><img alt="zhang2014" src="https://avatars.githubusercontent.com/u/8087042?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/ZhiHanZ"><img alt="ZhiHanZ" src="https://avatars.githubusercontent.com/u/25170437?v=4&s=117" width="117" /></a></th><th align="center"><a href="https://github.com/zhyass"><img alt="zhyass" src="https://avatars.githubusercontent.com/u/34016424?v=4&s=117" width="117" /></a></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/zhang2014">zhang2014</a></td><td align="center"><a href="https://github.com/ZhiHanZ">ZhiHanZ</a></td><td align="center"><a href="https://github.com/zhyass">zhyass</a></td><td align="center"></td><td align="center"></td><td align="center"></td></tr>
</tbody></table>
<h2 id="connect-with-us">Connect With Us</h2>
<p>We'd love to hear from you. Feel free to run the code and see if Databend works for you. Submit an issue with your problem if you need help.</p>
<p><a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> is open to everyone who loves data warehouses. Please join the community and share your thoughts.</p>
<ul>
<li><a href="https://databend.rs">Databend Official Website</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a> (Feature requests, bug reports, and contributions)</li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a> (Stay in the know)</li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a> (Chat with the community)</li>
</ul>

        </div>

        
        <div class="pagination">
            <div class="pagination__title">
                <span class="pagination__title-h">Thanks for reading! Read other posts?</span>
                <hr />
            </div>
            <div class="pagination__buttons">
                
                    <span class="button next">
                        <a href="https://weekly.databend.rs/2023-02-08-databend-weekly/">
                            <span class="button__text">This Week in Databend #80</span>&nbsp;
                            <span class="button__icon">â†’</span>
                        </a>
                    </span>
                </div>
        </div>
    
    </div>

    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>Â© 
    2023
 Datafuse Labs</span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
