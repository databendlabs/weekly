<!DOCTYPE html>
<html lang="en">

<head>
    <title>Databend Weekly</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://weekly.databend.rs/style.css">
    <link rel="stylesheet" href="https://weekly.databend.rs/color/blue.css">

    <link rel="stylesheet" href="https://weekly.databend.rs/font-hack.css">

    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://weekly.databend.rs" style="text-decoration: none;">
                    <div class="logo">
                            Databend Weekly
                        </div>
                </a>
            </div>
        </div>

        <nav class="menu">
            <ul class="menu__inner">
                
                <li class="active"><a href="https://weekly.databend.rs">weekly</a></li>
            
                <li><a href="https://weekly.databend.rs/archive">archive</a></li>
            
                <li><a href="https://github.com/datafuselabs/databend" target="_blank" rel="noopener noreferrer">github</a></li>
            
                <li><a href="https://databend.rs/" target="_blank" rel="noopener noreferrer">docs</a></li>
            
                <li><a href="https://weekly.databend.rs/rss.xml">rss</a></li>
            </ul>
        </nav>
    
    </header>
    

    <div class="content">
        
        <div class="posts">
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-08-31-databend-weekly/">This week in Databend #57</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-08-31
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<p><strong>share</strong></p>
<ul>
<li>add create database from share SQL (<a href="https://github.com/datafuselabs/databend/pull/7288">#7288</a>)</li>
</ul>
<p><strong>meta</strong></p>
<ul>
<li>add admin api: /v1/ctrl/trigger_snapshot let the leader send a snapshot to every follower (<a href="https://github.com/datafuselabs/databend/pull/7298">#7298</a>)</li>
</ul>
<p><strong>storage</strong></p>
<ul>
<li>HuaweiCloud OBS as storage backend for databend (<a href="https://github.com/datafuselabs/databend/pull/7365">#7365</a>)</li>
<li>add top-N pruner (<a href="https://github.com/datafuselabs/databend/pull/7302">#7302</a>)</li>
<li>split hive file to small partition and support read more than one rowgroups (<a href="https://github.com/datafuselabs/databend/pull/7311">#7311</a>)</li>
</ul>
<p><strong>format</strong></p>
<ul>
<li>add format ndjson (<a href="https://github.com/datafuselabs/databend/pull/7328">#7328</a>)</li>
</ul>
<p><strong>planner</strong></p>
<ul>
<li>implement cost-based optimization (<a href="https://github.com/datafuselabs/databend/pull/7187">#7187</a>)</li>
<li>push limit down further (<a href="https://github.com/datafuselabs/databend/pull/7273">#7273</a>)</li>
<li>support explain ast (<a href="https://github.com/datafuselabs/databend/pull/7215">#7215</a>)</li>
</ul>
<p><strong>query</strong></p>
<ul>
<li>alter table recluster (<a href="https://github.com/datafuselabs/databend/pull/7400">#7400</a>)</li>
</ul>
<p><strong>new expression</strong></p>
<ul>
<li>migrate <code>sign</code> / <code>trigonometric</code> / <code>abs</code> (<a href="https://github.com/datafuselabs/databend/pull/7272">#7272</a>)</li>
<li>implement <code>is_null</code> and <code>is_not_null</code> (<a href="https://github.com/datafuselabs/databend/pull/7282">#7282</a>)</li>
<li>add Timestamp type (<a href="https://github.com/datafuselabs/databend/pull/7393">#7393</a>)</li>
</ul>
<h3 id="improvement">Improvement</h3>
<p><strong>share</strong></p>
<ul>
<li>refactor drop share (<a href="https://github.com/datafuselabs/databend/pull/7341">#7341</a>)</li>
</ul>
<p><strong>meta</strong></p>
<ul>
<li>introduce UpserKV to simplify meta command (<a href="https://github.com/datafuselabs/databend/pull/7339">#7339</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/7345">#7345</a>)</li>
</ul>
<p><strong>storage</strong></p>
<ul>
<li>refactor compact and recluster (<a href="https://github.com/datafuselabs/databend/pull/7274">#7274</a>)</li>
<li>remove Github Engine (<a href="https://github.com/datafuselabs/databend/pull/7289">#7289</a>)</li>
<li>enable file meta data cache (<a href="https://github.com/datafuselabs/databend/pull/7386">#7386</a>)</li>
</ul>
<p><strong>async insert</strong></p>
<ul>
<li>eliminate circular references (<a href="https://github.com/datafuselabs/databend/pull/7411">#7411</a>)</li>
</ul>
<p><strong>query</strong></p>
<ul>
<li>make args to be consistent of other popular DBMS (<a href="https://github.com/datafuselabs/databend/pull/7357">#7357</a>)</li>
</ul>
<h3 id="build-testing-ci">Build/Testing/CI</h3>
<ul>
<li>add part of duckdb logictest suites (<a href="https://github.com/datafuselabs/databend/pull/7394">#7394</a>)</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<p><strong>meta</strong></p>
<ul>
<li>when expiring a record, leader and followers should use the same now time (<a href="https://github.com/datafuselabs/databend/pull/7325">#7325</a>)</li>
</ul>
<p><strong>parser</strong></p>
<ul>
<li>improve parsing speed for large expr (<a href="https://github.com/datafuselabs/databend/pull/7279">#7279</a>)</li>
</ul>
<p><strong>planner</strong></p>
<ul>
<li>scalar subquery in function got error (<a href="https://github.com/datafuselabs/databend/pull/7293">#7293</a>)</li>
<li>fix case sensitivity of <code>USING</code> clause (<a href="https://github.com/datafuselabs/databend/pull/7304">#7304</a>)</li>
<li>validate duplicated column name when creating table (<a href="https://github.com/datafuselabs/databend/pull/7307">#7307</a>)</li>
</ul>
<p><strong>query</strong></p>
<ul>
<li>fix JSON value incorrect memory size (<a href="https://github.com/datafuselabs/databend/pull/7346">#7346</a>)</li>
</ul>
<p><strong>cluster</strong></p>
<ul>
<li>optimize the performance for cluster mode (<a href="https://github.com/datafuselabs/databend/pull/7351">#7351</a>)</li>
<li>fix panic if exchange key is nullable (<a href="https://github.com/datafuselabs/databend/pull/7368">#7368</a>)</li>
</ul>
<h2 id="news">News</h2>
<p>Let's take a look at what's new at Datafuse Labs &amp; Databend each week.</p>
<p><strong>Databend Now Supports Gcs and Huawei Obs as Storage Backends</strong></p>
<p>Databend uses <a href="https://github.com/datafuselabs/opendal">opendal</a> as the storage access layer to interface with various storage systems.</p>
<p>Recently, Databend completed support for Google Cloud Storage and Huawei Cloud Object Storage, making it easy to access the data stored on these backends.</p>
<p>Learn more:</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/pull/7197">https://github.com/datafuselabs/databend/pull/7197</a></li>
<li><a href="https://github.com/datafuselabs/databend/pull/7365">https://github.com/datafuselabs/databend/pull/7365</a></li>
</ul>
<p><strong>Remove Support for GitHub Engine</strong></p>
<p>In the past, Databend has supported the GitHub engine to easily demonstrate, which pulls data from the GitHub API to form a database.</p>
<p>As the FUSE engine matures, we are officially removing support for the GitHub toy engine to reduce unnecessary maintenance work.</p>
<p>Learn more: <a href="https://github.com/datafuselabs/databend/discussions/7286">https://github.com/datafuselabs/databend/discussions/7286</a></p>
<p><strong>Databend Have Achieved the OpenSSF Best Practice Badge</strong></p>
<p>The Open Source Security Foundation (OpenSSF) Best Practices badge is a way for Free/Libre and Open Source Software (FLOSS) projects to show that they follow best practices.</p>
<p><a href="https://bestpractices.coreinfrastructure.org/projects/6375"><img src="https://bestpractices.coreinfrastructure.org/projects/6375/badge" alt="CII Best Practices" /></a></p>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.19-nightly">v0.8.19-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.18-nightly">v0.8.18-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.17-nightly">v0.8.17-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.16-nightly">v0.8.16-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.15-nightly">v0.8.15-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.14-nightly">v0.8.14-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.13-nightly">v0.8.13-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.12-nightly">v0.8.12-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.11-nightly">v0.8.11-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.10-nightly">v0.8.10-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.9-nightly">v0.8.9-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.8-nightly">v0.8.8-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/andylokandy"><img alt="andylokandy" src="https://avatars.githubusercontent.com/u/9637710?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/AngleNet"><img alt="AngleNet" src="https://avatars.githubusercontent.com/u/14330209?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ariesdevil"><img alt="ariesdevil" src="https://avatars.githubusercontent.com/u/7812909?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ClSlaid"><img alt="ClSlaid" src="https://avatars.githubusercontent.com/u/44747719?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/andylokandy">andylokandy</a></td><td align="center"><a href="https://github.com/AngleNet">AngleNet</a></td><td align="center"><a href="https://github.com/ariesdevil">ariesdevil</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/ClSlaid">ClSlaid</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/apps/dependabot"><img alt="dependabot[bot]" src="https://avatars.githubusercontent.com/in/29110?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/drmingdrmer"><img alt="drmingdrmer" src="https://avatars.githubusercontent.com/u/44069?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/eastfisher"><img alt="eastfisher" src="https://avatars.githubusercontent.com/u/10803535?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/everpcpc"><img alt="everpcpc" src="https://avatars.githubusercontent.com/u/1808802?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td><td align="center"><a href="https://github.com/apps/dependabot">dependabot[bot]</a></td><td align="center"><a href="https://github.com/drmingdrmer">drmingdrmer</a></td><td align="center"><a href="https://github.com/eastfisher">eastfisher</a></td><td align="center"><a href="https://github.com/everpcpc">everpcpc</a></td><td align="center"><a href="https://github.com/leiysky">leiysky</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/RinChanNOWWW"><img alt="RinChanNOWWW" src="https://avatars.githubusercontent.com/u/33975039?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sandflee"><img alt="sandflee" src="https://avatars.githubusercontent.com/u/5102100?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/lichuang">lichuang</a></td><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td><td align="center"><a href="https://github.com/RinChanNOWWW">RinChanNOWWW</a></td><td align="center"><a href="https://github.com/sandflee">sandflee</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/TCeason"><img alt="TCeason" src="https://avatars.githubusercontent.com/u/33082201?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ZeaLoVe"><img alt="ZeaLoVe" src="https://avatars.githubusercontent.com/u/10904090?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td><td align="center"><a href="https://github.com/TCeason">TCeason</a></td><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/ZeaLoVe">ZeaLoVe</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/zhang2014"><img alt="zhang2014" src="https://avatars.githubusercontent.com/u/8087042?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhyass"><img alt="zhyass" src="https://avatars.githubusercontent.com/u/34016424?v=4&s=117" width="117"></a></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/zhang2014">zhang2014</a></td><td align="center"><a href="https://github.com/zhyass">zhyass</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr>
</tbody></table>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://weekly.databend.rs/">Weekly</a> (A weekly newsletter about Databend)</li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a> (Feature/Bug reports, Contributions)</li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a> (Get the news fast)</li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a> (For live discussion with the Community)</li>
<li><a href="https://link.databend.rs/i-m-feeling-lucky">I'm feeling lucky</a> (Pick up a good first issue now!)</li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-08-24-databend-weekly/">This week in Databend #56</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-08-24
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<p><strong>share</strong></p>
<ul>
<li>add show grant on object and show grant of share sql (<a href="https://github.com/datafuselabs/databend/pull/7181">#7181</a>)</li>
</ul>
<p><strong>storage</strong></p>
<ul>
<li>Google Cloud Storage as storage backend for databend (<a href="https://github.com/datafuselabs/databend/pull/7171">#7171</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/7197">#7197</a>)</li>
</ul>
<p><strong>planner</strong></p>
<ul>
<li>support settings set sql_dialect (<a href="https://github.com/datafuselabs/databend/pull/7175">#7175</a>)</li>
<li>support union/union all (<a href="https://github.com/datafuselabs/databend/pull/7160">#7160</a>)</li>
</ul>
<p><strong>query</strong></p>
<ul>
<li>support datetime format (<a href="https://github.com/datafuselabs/databend/pull/7126">#7126</a>)</li>
<li>introduce custom allocator for HashTable (<a href="https://github.com/datafuselabs/databend/pull/7221">#7221</a>)</li>
</ul>
<p><strong>new expression</strong></p>
<ul>
<li>add function-v2 <code>concat</code>/<code>concat_ws</code> (<a href="https://github.com/datafuselabs/databend/pull/7167">#7167</a>)</li>
<li>migrate <code>bin</code>, <code>oct</code>, <code>hex</code>, and <code>unhex</code> (<a href="https://github.com/datafuselabs/databend/pull/7219">#7219</a>)</li>
</ul>
<h3 id="improvement">Improvement</h3>
<p><strong>meta</strong></p>
<ul>
<li>simplify <code>open_create_boot()</code> (<a href="https://github.com/datafuselabs/databend/pull/7212">#7212</a>)</li>
<li>improve join-cluster (<a href="https://github.com/datafuselabs/databend/pull/7198">#7198</a>)</li>
</ul>
<p><strong>storage</strong></p>
<ul>
<li>use pipline to refactor compact (<a href="https://github.com/datafuselabs/databend/pull/7244">#7244</a>)</li>
</ul>
<p><strong>sessions</strong></p>
<ul>
<li>decoupling session manager and other managers (<a href="https://github.com/datafuselabs/databend/pull/7093">#7093</a>)</li>
</ul>
<p><strong>planner</strong></p>
<ul>
<li>use Evaluator to refactor insert (<a href="https://github.com/datafuselabs/databend/pull/7201">#7201</a>)</li>
</ul>
<p><strong>workspace</strong></p>
<ul>
<li>reorg workspace, distinguish between common and query (<a href="https://github.com/datafuselabs/databend/pull/7188">#7188</a>)</li>
</ul>
<h3 id="build-testing-ci">Build/Testing/CI</h3>
<ul>
<li>add tpch stateless test of factor 0.1 (<a href="https://github.com/datafuselabs/databend/pull/6739">#6739</a>)</li>
<li>logictest support regex with new query type R (<a href="https://github.com/datafuselabs/databend/pull/7230">#7230</a>)</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<p><strong>parser</strong></p>
<ul>
<li>fix parse float with E failed (<a href="https://github.com/datafuselabs/databend/pull/7186">#7186</a>)</li>
</ul>
<p><strong>functions</strong></p>
<ul>
<li>fix function if result incorrect bug (<a href="https://github.com/datafuselabs/databend/pull/7239">#7239</a>)</li>
</ul>
<p><strong>service</strong></p>
<ul>
<li>rewrite desc stage query (<a href="https://github.com/datafuselabs/databend/pull/7205">#7205</a>)</li>
<li>fix statements <code>desc share</code> and <code>show shares</code> may have resultset (<a href="https://github.com/datafuselabs/databend/pull/7177">#7177</a>)</li>
</ul>
<p><strong>cluster</strong></p>
<ul>
<li>remove invalid cluster node in current query (<a href="https://github.com/datafuselabs/databend/pull/7246">#7246</a>)</li>
</ul>
<p><strong>new expression</strong></p>
<ul>
<li>make <code>multi_if</code> accept null conditions (<a href="https://github.com/datafuselabs/databend/pull/7226">#7226</a>)</li>
</ul>
<h2 id="news">News</h2>
<p>Let's take a look at what's new at Datafuse Labs &amp; Databend each week.</p>
<p><strong>Databend 0.8.0 Is Out!</strong></p>
<p>Development of Databend v0.8 started on March 28th, with 5000+ commits and 4600+ file changes. In the last 5 months, the community of 120+ contributors added 420K lines of code and removed 160K lines, equivalent to rewriting Databend once. In this release, the community made significant improvements to the SQL Planner framework and migrated all SQL statements to the new Planner, providing full JOIN and subquery support.</p>
<p>Learn more: <a href="https://databend.rs/blog/databend-release-v0.8">https://databend.rs/blog/databend-release-v0.8</a></p>
<p><strong>Deploy Databend on Kubernetes</strong></p>
<p>Databend now provides official K8s deployment documentation showing how to install and configure a Databend query cluster on Kubernetes with MinIO as the storage backend.</p>
<p>In addition to an easy to follow 4 step deployment guide, it also covers how to deploy a Databend cluster using the official <a href="https://github.com/datafuselabs/helm-charts">Helm Charts</a>.</p>
<p>Learn more: <a href="https://databend.rs/doc/deploy/deploying-databend-on-kubernetes">https://databend.rs/doc/deploy/deploying-databend-on-kubernetes</a></p>
<p><strong>Using Databend as a Destination for Airbyte</strong></p>
<ul>
<li>Airbyte is an open-source data integration platform that syncs data from applications, APIs &amp; databases to data warehouses lakes &amp; DBs.</li>
<li>You could load data from any airbyte source to Databend.</li>
</ul>
<p>Currently we implemented an experimental airbyte destination allow you to send data from your airbyte source to databend.</p>
<p>Learn more: <a href="https://databend.rs/doc/integrations/data-tool/airbyte">https://databend.rs/doc/integrations/data-tool/airbyte</a></p>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.7-nightly">v0.8.7-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.6-nightly">v0.8.6-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.5-nightly">v0.8.5-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.4-nightly">v0.8.4-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.3-nightly">v0.8.3-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.2-nightly">v0.8.2-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.1-nightly">v0.8.1-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.8.0-nightly">v0.8.0-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/andylokandy"><img alt="andylokandy" src="https://avatars.githubusercontent.com/u/9637710?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ariesdevil"><img alt="ariesdevil" src="https://avatars.githubusercontent.com/u/7812909?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ClSlaid"><img alt="ClSlaid" src="https://avatars.githubusercontent.com/u/44747719?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/andylokandy">andylokandy</a></td><td align="center"><a href="https://github.com/ariesdevil">ariesdevil</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/ClSlaid">ClSlaid</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/drmingdrmer"><img alt="drmingdrmer" src="https://avatars.githubusercontent.com/u/44069?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/edPanda"><img alt="edPanda" src="https://avatars.githubusercontent.com/u/47907932?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/flaneur2020"><img alt="flaneur2020" src="https://avatars.githubusercontent.com/u/129800?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/gaoxinge"><img alt="gaoxinge" src="https://avatars.githubusercontent.com/u/16648345?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/drmingdrmer">drmingdrmer</a></td><td align="center"><a href="https://github.com/edPanda">edPanda</a></td><td align="center"><a href="https://github.com/flaneur2020">flaneur2020</a></td><td align="center"><a href="https://github.com/gaoxinge">gaoxinge</a></td><td align="center"><a href="https://github.com/leiysky">leiysky</a></td><td align="center"><a href="https://github.com/lichuang">lichuang</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/RinChanNOWWW"><img alt="RinChanNOWWW" src="https://avatars.githubusercontent.com/u/33975039?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/TCeason"><img alt="TCeason" src="https://avatars.githubusercontent.com/u/33082201?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td><td align="center"><a href="https://github.com/RinChanNOWWW">RinChanNOWWW</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td><td align="center"><a href="https://github.com/TCeason">TCeason</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ZeaLoVe"><img alt="ZeaLoVe" src="https://avatars.githubusercontent.com/u/10904090?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhang2014"><img alt="zhang2014" src="https://avatars.githubusercontent.com/u/8087042?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ZhiHanZ"><img alt="ZhiHanZ" src="https://avatars.githubusercontent.com/u/25170437?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/ZeaLoVe">ZeaLoVe</a></td><td align="center"><a href="https://github.com/zhang2014">zhang2014</a></td><td align="center"><a href="https://github.com/ZhiHanZ">ZhiHanZ</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/zhyass"><img alt="zhyass" src="https://avatars.githubusercontent.com/u/34016424?v=4&s=117" width="117"></a></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/zhyass">zhyass</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr>
</tbody></table>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://weekly.databend.rs/">Weekly</a> (A weekly newsletter about Databend)</li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a> (Feature/Bug reports, Contributions)</li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a> (Get the news fast)</li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a> (For live discussion with the Community)</li>
<li><a href="https://link.databend.rs/i-m-feeling-lucky">I'm feeling lucky</a> (Pick up a good first issue now!)</li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-08-17-databend-weekly/">This week in Databend #55</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-08-17
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<p><strong>RFC</strong></p>
<ul>
<li>share <a href="https://github.com/datafuselabs/databend/pull/7059">#7059</a></li>
</ul>
<p><strong>CTE</strong></p>
<ul>
<li>support common table expression in planner (<a href="https://github.com/datafuselabs/databend/pull/7056">#6056</a>)</li>
</ul>
<p><strong>share</strong></p>
<ul>
<li>add alter share tenants sql (<a href="https://github.com/datafuselabs/databend/pull/7044">#7044</a>)</li>
<li>add desc share sql (<a href="https://github.com/datafuselabs/databend/pull/7105">#7105</a>)</li>
<li>add show shares sql (<a href="https://github.com/datafuselabs/databend/pull/7145">#7145</a>)</li>
<li>add <code>get_grant_tenants_of_share</code> and <code>get_grant_privileges_of_object</code> api (<a href="https://github.com/datafuselabs/databend/pull/7157">#7157</a>)</li>
</ul>
<p><strong>planner</strong></p>
<ul>
<li>support explain raw query (<a href="https://github.com/datafuselabs/databend/pull/7079">#7079</a>)</li>
<li>support tuple map access pushdown to storage (<a href="https://github.com/datafuselabs/databend/pull/7080">#7080</a>)</li>
<li>support explain syntax (<a href="https://github.com/datafuselabs/databend/pull/7124">#7124</a>)</li>
</ul>
<p><strong>query</strong></p>
<ul>
<li>parquet schema case in-senstive match <a href="https://github.com/datafuselabs/databend/pull/7045">#7045</a></li>
</ul>
<p><strong>new expression</strong></p>
<ul>
<li>support 3 args function (<a href="https://github.com/datafuselabs/databend/pull/7075">#7075</a>)</li>
<li>add a helper trait ColumnFrom (<a href="https://github.com/datafuselabs/databend/pull/7067">#7067</a>)</li>
<li>add arithmetics functions (<a href="https://github.com/datafuselabs/databend/pull/7096">#7096</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/7140">#7140</a>)</li>
</ul>
<h3 id="improvement">Improvement</h3>
<p><strong>meta</strong></p>
<ul>
<li>add defensive check to raft-store (<a href="https://github.com/datafuselabs/databend/pull/7125">#7125</a>)</li>
<li>get_share_grant_objects API should return name instead of id (<a href="https://github.com/datafuselabs/databend/pull/7088">#7088</a>)</li>
<li>refactor show share api (<a href="https://github.com/datafuselabs/databend/pull/7142">#7142</a>)</li>
</ul>
<p><strong>query</strong></p>
<ul>
<li>predicate push down support multi expressions (<a href="https://github.com/datafuselabs/databend/pull/7078">#7078</a>)</li>
<li>use common hashtable to store the numeric distinct state (<a href="https://github.com/datafuselabs/databend/pull/7135">#7135</a>)</li>
<li>improve performance of aggregate function distinct (<a href="https://github.com/datafuselabs/databend/pull/7110">#7110</a>)</li>
</ul>
<p><strong>workspace</strong></p>
<ul>
<li>reorg workspace, a basic structure (<a href="https://github.com/datafuselabs/databend/pull/7074">#7074</a>)</li>
</ul>
<h3 id="build-testing-ci">Build/Testing/CI</h3>
<ul>
<li>add logictest in cluster mode (<a href="https://github.com/datafuselabs/databend/pull/7099">#7099</a>)</li>
<li>add part of crdb logictest suites (<a href="https://github.com/datafuselabs/databend/pull/7154">#7154</a>)</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<p><strong>meta</strong></p>
<ul>
<li>when handling append-entries, if prev_log_id is purged, it should not delete any logs (<a href="https://github.com/datafuselabs/databend/pull/7113">#7113</a>)</li>
</ul>
<p><strong>planner</strong></p>
<ul>
<li>fix left join using() return error result (<a href="https://github.com/datafuselabs/databend/pull/7086">#7086</a>)</li>
<li>fix <code>ColumnPruner</code> finds wrong smallest column index (<a href="https://github.com/datafuselabs/databend/pull/7097">#7097</a>)</li>
</ul>
<p><strong>processor</strong></p>
<ul>
<li>use flight <code>do_exchange</code> replace flight <code>do_put</code> (<a href="https://github.com/datafuselabs/databend/pull/7025">#7025</a>)</li>
<li>try fix invalid physical exchange plan for http handle (<a href="https://github.com/datafuselabs/databend/pull/7095">#7095</a>)</li>
</ul>
<p><strong>handle</strong></p>
<ul>
<li>streaming mysql resultset (<a href="https://github.com/datafuselabs/databend/pull/7022">#7022</a>)</li>
</ul>
<h2 id="news">News</h2>
<p>Let's take a look at what's new at Datafuse Labs &amp; Databend each week.</p>
<p><strong>common table expressions</strong></p>
<p>Databend supports common table expressions (CTEs) and allows you to use a WITH clause to define one or multiple named temporary result sets that are used by the query that follows. The &quot;temporary&quot; means that the result sets will be not permanently stored anywhere in the database schema. They act as temporary views that are only available to the query that follows.</p>
<p>Learn more: <a href="https://databend.rs/doc/reference/sql/query-syntax/dml-with">https://databend.rs/doc/reference/sql/query-syntax/dml-with</a></p>
<p><strong>crates</strong></p>
<ul>
<li><a href="https://github.com/datafuselabs/openraft">openraft</a> has released v0.7.0, which includes a number of refactorings and reliability improvements, and adds examples of rocksdb and sled.</li>
<li><a href="https://github.com/datafuselabs/opendal">opendal</a> has just added support for Google Cloud Storage and released 0.13.0. Recent improvements include a new <code>Builder</code> with sync support and some useful layers.</li>
<li>The v0.2.0 release of <a href="https://github.com/datafuselabs/opensrv">opensrv</a> supports streaming writes to mysql result sets and simplifies metadata for clickhouse.</li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.172-nightly">v0.7.172-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.171-nightly">v0.7.171-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.170-nightly">v0.7.170-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.169-nightly">v0.7.169-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.168-nightly">v0.7.168-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.167-nightly">v0.7.167-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.166-nightly">v0.7.166-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.165-nightly">v0.7.165-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.164-nightly">v0.7.164-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.163-nightly">v0.7.163-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.162-nightly">v0.7.162-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.161-nightly">v0.7.161-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.160-nightly">v0.7.160-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/andylokandy"><img alt="andylokandy" src="https://avatars.githubusercontent.com/u/9637710?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ClSlaid"><img alt="ClSlaid" src="https://avatars.githubusercontent.com/u/44747719?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/drmingdrmer"><img alt="drmingdrmer" src="https://avatars.githubusercontent.com/u/44069?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/andylokandy">andylokandy</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/ClSlaid">ClSlaid</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td><td align="center"><a href="https://github.com/drmingdrmer">drmingdrmer</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/e1ijah1"><img alt="e1ijah1" src="https://avatars.githubusercontent.com/u/30852919?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/everpcpc"><img alt="everpcpc" src="https://avatars.githubusercontent.com/u/1808802?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/gaoxinge"><img alt="gaoxinge" src="https://avatars.githubusercontent.com/u/16648345?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/IDJack"><img alt="IDJack" src="https://avatars.githubusercontent.com/u/14247115?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/Kikkon"><img alt="Kikkon" src="https://avatars.githubusercontent.com/u/19528375?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/e1ijah1">e1ijah1</a></td><td align="center"><a href="https://github.com/everpcpc">everpcpc</a></td><td align="center"><a href="https://github.com/gaoxinge">gaoxinge</a></td><td align="center"><a href="https://github.com/IDJack">IDJack</a></td><td align="center"><a href="https://github.com/Kikkon">Kikkon</a></td><td align="center"><a href="https://github.com/leiysky">leiysky</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sandflee"><img alt="sandflee" src="https://avatars.githubusercontent.com/u/5102100?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/lichuang">lichuang</a></td><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td><td align="center"><a href="https://github.com/sandflee">sandflee</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ZeaLoVe"><img alt="ZeaLoVe" src="https://avatars.githubusercontent.com/u/10904090?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhang2014"><img alt="zhang2014" src="https://avatars.githubusercontent.com/u/8087042?v=4&s=117" width="117"></a></th><th align="center"></th><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/ZeaLoVe">ZeaLoVe</a></td><td align="center"><a href="https://github.com/zhang2014">zhang2014</a></td><td align="center"></td><td align="center"></td></tr>
</tbody></table>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-08-10-databend-weekly/">This week in Databend #54</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-08-10
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<p><strong>cte</strong></p>
<ul>
<li>support cte in parser <a href="https://github.com/datafuselabs/databend/pull/7030">#7030</a> </li>
</ul>
<p><strong>share</strong></p>
<ul>
<li>add Create/Drop Share sql support (<a href="https://github.com/datafuselabs/databend/pull/6975">#6975</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/6987">#6987</a>)</li>
<li>add Grant and Revoke Share Object sql support (<a href="https://github.com/datafuselabs/databend/pull/7009">#7009</a>)</li>
</ul>
<p><strong>parser</strong></p>
<ul>
<li>add mysql dialect <a href="https://github.com/datafuselabs/databend/pull/7071">#7071</a> </li>
</ul>
<p><strong>RBAC</strong></p>
<ul>
<li>avoid making cycle between roles (<a href="https://github.com/datafuselabs/databend/pull/7051">#7051</a>)</li>
</ul>
<p><strong>handlers</strong></p>
<ul>
<li>deprecate clickhouse's tcp protocol support (<a href="https://github.com/datafuselabs/databend/pull/7012">#7012</a>)</li>
<li>add tenant tables status api (<a href="https://github.com/datafuselabs/databend/pull/7037">#7037</a>)</li>
</ul>
<p><strong>optimizer</strong></p>
<ul>
<li>implement column pruning for heuristic optimizer (<a href="https://github.com/datafuselabs/databend/pull/6478">#6478</a>)</li>
</ul>
<p><strong>planner</strong></p>
<ul>
<li>support name resolution for alias (<a href="https://github.com/datafuselabs/databend/pull/6979">#6979</a>)</li>
<li>enable projection pushdown (<a href="https://github.com/datafuselabs/databend/pull/6938">#6938</a>)</li>
<li>enable new planner by default (<a href="https://github.com/datafuselabs/databend/pull/6869">#6869</a>)</li>
<li>enhanced case-sensitivity of identifiers (<a href="https://github.com/datafuselabs/databend/pull/7026">#7026</a>)</li>
</ul>
<p><strong>storage</strong></p>
<ul>
<li>generate cluster statistics in deletion (<a href="https://github.com/datafuselabs/databend/pull/7041">#7041</a>)</li>
</ul>
<p><strong>new expression</strong></p>
<ul>
<li>add concat/filter/scatter/take kernel for chunk (<a href="https://github.com/datafuselabs/databend/pull/7038">#7038</a>)</li>
<li>implement adaptive constant folding (<a href="https://github.com/datafuselabs/databend/pull/7054">#7054</a>)</li>
</ul>
<h3 id="improvement">Improvement</h3>
<p><strong>split query</strong></p>
<ul>
<li>extract storages into sub crates (<a href="https://github.com/datafuselabs/databend/pull/6981">#6981</a>)</li>
</ul>
<p><strong>share</strong></p>
<ul>
<li>refactor add/remove share accounts API (<a href="https://github.com/datafuselabs/databend/pull/7029">#7029</a>)</li>
</ul>
<p><strong>proto conv</strong></p>
<ul>
<li>pb::S3StorageConfig should be decoded into StorageS3Config, instead of into enum StorageParams (<a href="https://github.com/datafuselabs/databend/pull/7047">#7047</a>)</li>
<li>trait FromToPB use associated type instead of type parameter (<a href="https://github.com/datafuselabs/databend/pull/7048">#7048</a>)</li>
</ul>
<p><strong>meta api</strong></p>
<ul>
<li>introduce Id for KVApi (<a href="https://github.com/datafuselabs/databend/pull/7055">#7055</a>)</li>
<li>merge TableIdGen, DatabaseIdGen and ShareIdGen into one id-generator key (<a href="https://github.com/datafuselabs/databend/pull/7062">#7062</a>)</li>
</ul>
<h3 id="build-testing-ci">Build/Testing/CI</h3>
<ul>
<li>enable subquery tests in ydb suit (<a href="https://github.com/datafuselabs/databend/pull/6948">#6948</a>)</li>
<li>add mini hits dataset 100k to stateful test (<a href="https://github.com/datafuselabs/databend/pull/6964">#6964</a>)</li>
<li>test fuse-table compatibility (<a href="https://github.com/datafuselabs/databend/pull/6990">#6990</a>)</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<ul>
<li>fix hive table read when pushdowns is None (<a href="https://github.com/datafuselabs/databend/pull/7008">#7008</a>)</li>
<li>fix column prune for <code>COUNT(*)</code> (<a href="https://github.com/datafuselabs/databend/pull/7000">#7000</a>)</li>
<li>fix prune projection (<a href="https://github.com/datafuselabs/databend/pull/7013">#7013</a>)</li>
<li>fix clickhouse handler, try catch error before response (<a href="https://github.com/datafuselabs/databend/pull/7019">#7019</a>)</li>
<li>fix case sensitivity of cluster by expression (<a href="https://github.com/datafuselabs/databend/pull/7060">#7060</a>)</li>
</ul>
<h2 id="news">News</h2>
<p>Let's take a look at what's new at Databend each week.</p>
<p><strong>Release proposal: Nightly v0.9</strong></p>
<p>Databend plans to release v0.8 in the coming week, with new parser and planner support. </p>
<p>The call for proposals for the release of v0.9 is now open. See <a href="https://github.com/datafuselabs/databend/issues/7052">Release proposal: Nightly v0.9 #7052</a></p>
<p><strong>Benchmarking Databend using TPC-H</strong></p>
<p>Databend has recently enabled the new Planner by default, which means that we have fully enabled support for JOIN queries and correlated subqueries.</p>
<p>Now you can easily run the TPC-H test suite with Databend and perform benchmark tests. See <a href="https://databend.rs/blog/2022/08/08/benchmark-tpc-h">Benchmarking Databend using TPC-H</a></p>
<p><strong>Deprecate clickhouse's tcp protocol support</strong></p>
<p>As the Clickhouse TCP protocol is almost a black box and requires a lot of effort to ensure compatibility, Databend has removed compatibility with the Clickhouse TCP protocol. See <a href="https://github.com/datafuselabs/databend/pull/7012">Deprecate clickhouse's tcp protocol support #7012</a></p>
<p>Databend will focus on Clickhouse HTTP protocol compatibility to ensure compatibility with the existing ecosystem.</p>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.159-nightly">v0.7.159-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.158-nightly">v0.7.158-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.157-nightly">v0.7.157-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.156-nightly">v0.7.156-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.155-nightly">v0.7.155-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.154-nightly">v0.7.154-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.153-nightly">v0.7.153-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/andylokandy"><img alt="andylokandy" src="https://avatars.githubusercontent.com/u/9637710?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/drmingdrmer"><img alt="drmingdrmer" src="https://avatars.githubusercontent.com/u/44069?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/flaneur2020"><img alt="flaneur2020" src="https://avatars.githubusercontent.com/u/129800?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/andylokandy">andylokandy</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td><td align="center"><a href="https://github.com/drmingdrmer">drmingdrmer</a></td><td align="center"><a href="https://github.com/flaneur2020">flaneur2020</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/pymongo"><img alt="pymongo" src="https://avatars.githubusercontent.com/u/42347370?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sandflee"><img alt="sandflee" src="https://avatars.githubusercontent.com/u/5102100?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/leiysky">leiysky</a></td><td align="center"><a href="https://github.com/lichuang">lichuang</a></td><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td><td align="center"><a href="https://github.com/pymongo">pymongo</a></td><td align="center"><a href="https://github.com/sandflee">sandflee</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ZeaLoVe"><img alt="ZeaLoVe" src="https://avatars.githubusercontent.com/u/10904090?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhyass"><img alt="zhyass" src="https://avatars.githubusercontent.com/u/34016424?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/ZeaLoVe">ZeaLoVe</a></td><td align="center"><a href="https://github.com/zhyass">zhyass</a></td></tr>
</tbody></table>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-08-03-databend-weekly/">This week in Databend #53</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-08-03
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<p><strong>RFC</strong></p>
<ul>
<li>recluster (<a href="https://github.com/datafuselabs/databend/pull/6905">#6905</a>)</li>
</ul>
<p><strong>meta</strong></p>
<ul>
<li>add raft store fail metrics (<a href="https://github.com/datafuselabs/databend/pull/6927">#6927</a>)</li>
<li>metasrv unittest logs tracing event with customized formatter (<a href="https://github.com/datafuselabs/databend/pull/6874">#6874</a>)</li>
</ul>
<p><strong>storage</strong></p>
<ul>
<li>enable bloom filter index (<a href="https://github.com/datafuselabs/databend/pull/6639">#6639</a>)</li>
<li>support query hive partition table (<a href="https://github.com/datafuselabs/databend/pull/6906">#6906</a>)</li>
</ul>
<p><strong>RBAC</strong></p>
<ul>
<li>add auth role to jwt (<a href="https://github.com/datafuselabs/databend/pull/6829">#6829</a>)</li>
</ul>
<p><strong>format</strong></p>
<ul>
<li>pass <code>FileSplit</code> instead of <code>Vec</code> (<a href="https://github.com/datafuselabs/databend/pull/6873">#6873</a>)</li>
</ul>
<p><strong>new expression</strong></p>
<ul>
<li>make chunk support scalar values (<a href="https://github.com/datafuselabs/databend/pull/6918">#6918</a>)</li>
<li>migrate quote, reverse and ascii (<a href="https://github.com/datafuselabs/databend/pull/6907">#6907</a>)</li>
<li>migrate trim functions to new expression framework (<a href="https://github.com/datafuselabs/databend/pull/6921">#6921</a>)</li>
</ul>
<h3 id="improvement">Improvement</h3>
<ul>
<li>Dedicate <code>See you again</code> to the old planner (<a href="https://github.com/datafuselabs/databend/pull/6895">#6895</a>)</li>
<li>Remove unused reload config (<a href="https://github.com/datafuselabs/databend/pull/6933">#6933</a>)</li>
</ul>
<p><strong>new expression</strong></p>
<ul>
<li>add <code>NullableColumn</code> and <code>NullableColumnBuilder</code> (<a href="https://github.com/datafuselabs/databend/pull/6867">#6867</a>)</li>
<li>use <code>Scalar</code> to store constant in <code>Expr</code> (<a href="https://github.com/datafuselabs/databend/pull/6923">#6923</a>)</li>
</ul>
<h3 id="build-testing-ci">Build/Testing/CI</h3>
<ul>
<li>migrate all stateless test to logic test (<a href="https://github.com/datafuselabs/databend/discussions/5838#discussioncomment-3204610">progress of migration</a>)</li>
<li>add mini ontime dataset to stateful test (<a href="https://github.com/datafuselabs/databend/pull/6931">#6931</a>)</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<ul>
<li>don't expand null scalar to column (<a href="https://github.com/datafuselabs/databend/pull/6834">#6834</a>)</li>
<li>fix mistake using <code>try_cast</code> for cast (<a href="https://github.com/datafuselabs/databend/pull/6879">#6879</a>)</li>
<li>fix session drop early in clickhouse handler (<a href="https://github.com/datafuselabs/databend/pull/6888">#6888</a>)</li>
<li>fix binder create table (<a href="https://github.com/datafuselabs/databend/pull/6899">#6899</a>)</li>
<li>fix mysql return 'Empty Set' when result set is empty (<a href="https://github.com/datafuselabs/databend/pull/6841">#6841</a>)</li>
<li>fix case expr with case operator equal (<a href="https://github.com/datafuselabs/databend/pull/6950">#6950</a>)</li>
<li>fix cannot kill query in cluster mod (<a href="https://github.com/datafuselabs/databend/pull/6954">#6954</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="call-for-migrating-functions-to-the-new-expression-framework">Call for Migrating Functions to the New Expression Framework</h3>
<p>If you are interested in typed type system, or maybe you'd like to try your hand at a database project, take a look at how Databend does it.</p>
<p>We are now trying to migrate some old functions to the new expression framework, would you like to try it out?</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/issues/6766">Migrate String functions to new expression framework #6766</a></li>
<li><a href="https://github.com/datafuselabs/databend/issues/6833">Migrate control-flow functions to new expression framework #6833 </a></li>
</ul>
<p><strong>Background</strong></p>
<p>Recently Databend is working on a new expression framework that will bring some interesting features.</p>
<ul>
<li>Type checking.</li>
<li>Type-safe downcast. </li>
<li>Enum-dispatched columns.</li>
<li>Generic types.</li>
</ul>
<p><strong>How To</strong></p>
<p>Legacy functions are settle in <code>common/functions/src/scalars</code>. The task is to migrate all of them to <code>common/functions-v2/src/scalars/</code>. </p>
<p>Usually you can reuse the logic of the previous implementation, it just needs some rewriting to make it fit the new way.</p>
<p>Similarly, the legacy tests in <code>common/functions/tests/it/scalars/</code> should also be migrated to <code>common/functions-v2/tests/it/scalars/</code>. </p>
<p>The new tests will be written using <code>goldenfile</code>, so you can easily generate test cases without a lot of painful handwriting. </p>
<p><strong>Example</strong></p>
<p>A unary function <code>OCTET_LENGTH</code> can be defined using 6 lines in<code>common/functions-v2/src/scalars/strings.rs</code>.</p>
<p><code>OCTET_LENGTH</code> will return the length of a string in bytes.</p>
<pre data-lang="rust" style="background-color:#151515;color:#e8e8d3;" class="language-rust "><code class="language-rust" data-lang="rust"><span>registry.register_1_arg::&lt;StringType, NumberType&lt;</span><span style="color:#8fbfdc;">u64</span><span>&gt;, _, _&gt;(
</span><span>    </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">octet_length</span><span style="color:#556633;">&quot;</span><span>,
</span><span>    FunctionProperty::default(),
</span><span>    |_| None,
</span><span>    |</span><span style="color:#ffb964;">val</span><span>| val.len() as </span><span style="color:#8fbfdc;">u64</span><span>,
</span><span>);
</span></code></pre>
<p><code>LENGTH</code> is a synonym for <code>OCTET_LENGTH</code>. </p>
<p>We can easily define function aliases with one line.</p>
<pre data-lang="rust" style="background-color:#151515;color:#e8e8d3;" class="language-rust "><code class="language-rust" data-lang="rust"><span>registry.register_aliases(</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">octet_length</span><span style="color:#556633;">&quot;</span><span>, &amp;[</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">length</span><span style="color:#556633;">&quot;</span><span>]);
</span></code></pre>
<p>Next, let's write some tests to make sure it works correctly. </p>
<p>Edit <code>common/functions-v2/tests/it/scalars/string.rs</code>.</p>
<pre data-lang="rust" style="background-color:#151515;color:#e8e8d3;" class="language-rust "><code class="language-rust" data-lang="rust"><span style="color:#8fbfdc;">fn </span><span style="color:#fad07a;">test_octet_length</span><span>(</span><span style="color:#ffb964;">file</span><span>: &amp;</span><span style="color:#8fbfdc;">mut</span><span> impl Write) {
</span><span>    run_ast(file, </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">octet_length(&#39;latin&#39;)</span><span style="color:#556633;">&quot;</span><span>, &amp;[]);
</span><span>    run_ast(file, </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">octet_length(NULL)</span><span style="color:#556633;">&quot;</span><span>, &amp;[]);
</span><span>    run_ast(file, </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">length(a)</span><span style="color:#556633;">&quot;</span><span>, &amp;[(
</span><span>        </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">a</span><span style="color:#556633;">&quot;</span><span>,
</span><span>        DataType::String,
</span><span>        build_string_column(&amp;[</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">latin</span><span style="color:#556633;">&quot;</span><span>, </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;"></span><span style="color:#556633;">&quot;</span><span>, </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;"> and latin</span><span style="color:#556633;">&quot;</span><span>]),
</span><span>    )]);
</span><span>}
</span></code></pre>
<p>Register it in the <code>test_string</code> function, </p>
<pre data-lang="rust" style="background-color:#151515;color:#e8e8d3;" class="language-rust "><code class="language-rust" data-lang="rust"><span>#[</span><span style="color:#ffb964;">test</span><span>]
</span><span style="color:#8fbfdc;">fn </span><span style="color:#fad07a;">test_string</span><span>() {
</span><span>    </span><span style="color:#8fbfdc;">let mut</span><span> mint = Mint::new(</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">tests/it/scalars/testdata</span><span style="color:#556633;">&quot;</span><span>);
</span><span>    </span><span style="color:#8fbfdc;">let</span><span> file = &amp;</span><span style="color:#8fbfdc;">mut</span><span> mint.new_goldenfile(</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">string.txt</span><span style="color:#556633;">&quot;</span><span>).unwrap();
</span><span>
</span><span>    ...
</span><span>    test_octet_length(file);
</span><span>    ...
</span><span>}
</span></code></pre>
<p>Next, let's try to generate these test cases from the command line.</p>
<pre data-lang="bash" style="background-color:#151515;color:#e8e8d3;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb964;">REGENERATE_GOLDENFILES</span><span>=</span><span style="color:#99ad6a;">1 </span><span style="color:#ffb964;">cargo</span><span> test</span><span style="color:#ffb964;"> -p</span><span> common-functions-v2</span><span style="color:#ffb964;"> --test</span><span> it
</span></code></pre>
<p>Well done, we did it.</p>
<p><strong>Learn More</strong></p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/discussions/5438">RFC: Formal Type System</a></li>
<li><a href="https://github.com/datafuselabs/databend/issues/6547">Tracking issue for new expression framework</a></li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.152-nightly">v0.7.152-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.151-nightly">v0.7.151-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.150-nightly">v0.7.150-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.149-nightly">v0.7.149-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.148-nightly">v0.7.148-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.147-nightly">v0.7.147-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.146-nightly">v0.7.146-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.145-nightly">v0.7.145-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/andylokandy"><img alt="andylokandy" src="https://avatars.githubusercontent.com/u/9637710?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ariesdevil"><img alt="ariesdevil" src="https://avatars.githubusercontent.com/u/7812909?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/drmingdrmer"><img alt="drmingdrmer" src="https://avatars.githubusercontent.com/u/44069?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/andylokandy">andylokandy</a></td><td align="center"><a href="https://github.com/ariesdevil">ariesdevil</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td><td align="center"><a href="https://github.com/drmingdrmer">drmingdrmer</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/flaneur2020"><img alt="flaneur2020" src="https://avatars.githubusercontent.com/u/129800?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/gaoxinge"><img alt="gaoxinge" src="https://avatars.githubusercontent.com/u/16648345?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/flaneur2020">flaneur2020</a></td><td align="center"><a href="https://github.com/gaoxinge">gaoxinge</a></td><td align="center"><a href="https://github.com/leiysky">leiysky</a></td><td align="center"><a href="https://github.com/lichuang">lichuang</a></td><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/RinChanNOWWW"><img alt="RinChanNOWWW" src="https://avatars.githubusercontent.com/u/33975039?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sandflee"><img alt="sandflee" src="https://avatars.githubusercontent.com/u/5102100?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/TCeason"><img alt="TCeason" src="https://avatars.githubusercontent.com/u/33082201?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/RinChanNOWWW">RinChanNOWWW</a></td><td align="center"><a href="https://github.com/sandflee">sandflee</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td><td align="center"><a href="https://github.com/TCeason">TCeason</a></td><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ygf11"><img alt="ygf11" src="https://avatars.githubusercontent.com/u/3428089?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ZeaLoVe"><img alt="ZeaLoVe" src="https://avatars.githubusercontent.com/u/10904090?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhang2014"><img alt="zhang2014" src="https://avatars.githubusercontent.com/u/8087042?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhyass"><img alt="zhyass" src="https://avatars.githubusercontent.com/u/34016424?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/ygf11">ygf11</a></td><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/ZeaLoVe">ZeaLoVe</a></td><td align="center"><a href="https://github.com/zhang2014">zhang2014</a></td><td align="center"><a href="https://github.com/zhyass">zhyass</a></td></tr>
</tbody></table>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            <div class="pagination">
                <div class="pagination__buttons">
                    <span class="button previous">
                        <a href="https://weekly.databend.rs/page/2/">
                            <span class="button__icon"></span>&nbsp;
                            <span class="button__text">Newer posts</span>
                        </a>
                    </span>
                
                    <span class="button next">
                        <a href="https://weekly.databend.rs/page/4/">
                            <span class="button__text">Older posts</span>&nbsp;
                            <span class="button__icon"></span>
                        </a>
                    </span>
                </div>
            </div>
        </div>
        
    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span> 
    2022
 Datafuse Labs</span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
