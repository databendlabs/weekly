<!DOCTYPE html>
<html lang="en">

<head>
    <title>Databend Weekly</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://weekly.databend.rs/style.css">
    <link rel="stylesheet" href="https://weekly.databend.rs/color/blue.css">

    <link rel="stylesheet" href="https://weekly.databend.rs/font-hack.css">

    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://weekly.databend.rs" style="text-decoration: none;">
                    <div class="logo">
                            Databend Weekly
                        </div>
                </a>
            </div>
        </div>

        <nav class="menu">
            <ul class="menu__inner">
                
                <li class="active"><a href="https://weekly.databend.rs">weekly</a></li>
            
                <li><a href="https://weekly.databend.rs/archive">archive</a></li>
            
                <li><a href="https://github.com/datafuselabs/databend" target="_blank" rel="noopener noreferrer">github</a></li>
            
                <li><a href="https://databend.rs/" target="_blank" rel="noopener noreferrer">docs</a></li>
            
                <li><a href="https://weekly.databend.rs/rss.xml">rss</a></li>
            </ul>
        </nav>
    
    </header>
    

    <div class="content">
        
        <div class="posts">
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-04-06-databend-weekly/">This week in Databend #36</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-04-06
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><strong>common-functions:  support <code>REGEXP_INSTR</code> function</strong> by <a href="https://github.com/nange">@nange</a>, (<a href="https://github.com/datafuselabs/databend/pull/4629">#4629</a>)</li>
<li><strong>databend-query(processor): support complete executor</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4639">#4639</a>)</li>
<li><strong>databend-query: support logical view</strong> by <a href="https://github.com/Veeupup">@Veeupup</a>, (<a href="https://github.com/datafuselabs/databend/pull/4628">#4628</a>)</li>
<li><strong>databend-query: support information_schema database</strong> by <a href="https://github.com/Veeupup">@Veeupup</a>, (<a href="https://github.com/datafuselabs/databend/pull/4672">#4672</a>)</li>
<li><strong>*: refactor type deserialization</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4634">#4634</a>)</li>
</ul>
<h2 id="improvement">Improvement</h2>
<ul>
<li><strong>databend-query: hide table opt <code>SNAPSHOT_LOC</code> in <code>show create</code></strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4677">#4677</a>)</li>
<li><strong>*: refactor User/Role identity</strong> by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4644">#4644</a>)</li>
<li><strong>databend-query: support show full tables</strong> by <a href="https://github.com/TCeason">@TCeason</a>, (<a href="https://github.com/datafuselabs/databend/pull/4702">#4702</a>)</li>
</ul>
<h2 id="build-test-ci">Build/Test/CI</h2>
<ul>
<li><strong>link with mold in build-tool</strong> by <a href="https://github.com/everpcpc">@everpcpc</a>, (<a href="https://github.com/datafuselabs/databend/pull/4681">#4681</a>)</li>
</ul>
<h2 id="bug-fixes">Bug fixes</h2>
<ul>
<li><strong>databend-query: prohibit using reserved table option in create table statement.</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4632">#4632</a>)</li>
<li><strong>bump to OpenDAL v0.4 to fix copy into don't support special filename</strong> by <a href="https://github.com/Xuanwo">@Xuanwo</a>, (<a href="https://github.com/datafuselabs/databend/pull/4678">#4678</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="analyzing-nginx-logs-with-databend-and-vector">Analyzing Nginx Logs with Databend and Vector</h3>
<p>Systems are producing all kinds metrics and logs time by time, do you want to gather them and analyze the logs in real time?</p>
<p>Databend provides <a href="https://databend.rs/doc/integrations/vector">integration with Vector</a>, easy to do it now!</p>
<p>You can use Databend to analyze Nginx access logs in just four steps:</p>
<ol>
<li>Deploy Databend, Create a Database and a Table for Nginx logs, Create a User for Vector Auth</li>
<li>Install and Configure Nginx</li>
<li>Install and Configure Vector, Run it</li>
<li>Generate Nginx logs and Analyze them in Databend</li>
</ol>
<p>To learn more about how to implement it, check out <a href="https://databend.rs/doc/learn/analyze-nginx-logs-with-databend-and-vector">Analyzing Nginx Logs with Databend and Vector</a>.</p>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.10-nightly">v0.7.10-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.9-nightly">v0.7.9-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.8-nightly">v0.7.8-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.7-nightly">v0.7.7-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.6-nightly">v0.7.6-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.5-nightly">v0.7.5-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.4-nightly">v0.7.4-nightly</a></li>
</ul>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-03-30-databend-weekly/">This week in Databend #35</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-03-30
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><strong>databend-query: add ndjson source for streaming load</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4561">#4561</a>)</li>
<li><strong>common-functions: embed markdown dos into system.functions</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4552">#4552</a>)</li>
<li><strong>databend-query: add user option for user info</strong>: introduce user options to separate system management privileges and security object privileges. by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4553">#4553</a>)</li>
<li><strong>common-datavalues: support Semi-structured array, object data type</strong> by <a href="https://github.com/b41sh">@b41sh</a>, (<a href="https://github.com/datafuselabs/databend/pull/4571">#4571</a>)</li>
<li><strong>http handler: support basic clickhouse REST handler</strong> by <a href="https://github.com/youngsofun">@youngsofun</a>, (<a href="https://github.com/datafuselabs/databend/pull/4613">#4613</a>)</li>
<li><strong>databend-query: add <code>check_json</code> function</strong> by <a href="https://github.com/kevinw66">@kevinw66</a>, (<a href="https://github.com/datafuselabs/databend/pull/4606">#4606</a>)</li>
<li><strong>databend-query(processor): support pushing executor</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4625">#4625</a>)</li>
</ul>
<h2 id="improvement">Improvement</h2>
<ul>
<li><strong>databend-query: version of storage layout</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4244">#4244</a>)</li>
<li><strong>databend-query: remove manage access check and use tenant statement</strong> by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4616">#4616</a>)</li>
</ul>
<h2 id="performance-improvement">Performance Improvement</h2>
<ul>
<li><strong>datavalues: Simd selected for StringColumn</strong> by <a href="https://github.com/LiuYuHui">@LiuYuHui</a>, (<a href="https://github.com/datafuselabs/databend/pull/4528">#4528</a>)</li>
<li><strong>databend-query: impove performance of insert-into literal values</strong> by <a href="https://github.com/ygf11">@ygf11</a>, (<a href="https://github.com/datafuselabs/databend/pull/4497">#4497</a>)</li>
</ul>
<h2 id="build-test-ci">Build/Test/CI</h2>
<ul>
<li><strong>improve build tools and workflows</strong> by <a href="https://github.com/everpcpc">@everpcpc</a>, (<a href="https://github.com/datafuselabs/databend/pull/4580">#4580</a>, <a href="https://github.com/datafuselabs/databend/pull/4592">#4592</a>, etc.)</li>
</ul>
<h2 id="bug-fixes">Bug fixes</h2>
<ul>
<li><strong>databend-query: fix duplicate count read rows</strong> by <a href="https://github.com/july2993">@july2993</a>, (<a href="https://github.com/datafuselabs/databend/pull/4587">#4587</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="announcing-databend-v0-7-0-nightly">Announcing Databend v0.7.0-nightly</h3>
<p>This release brings Databend architecture to a stable stage!</p>
<ul>
<li>Simple primitive data type framework</li>
<li>New Pull&amp;Push-Based Processor framework</li>
<li>Git-Like table format with snapshot transaction isolation</li>
<li>Announce <a href="https://github.com/datafuselabs/opendal">OpenDAL</a> for object storage data access</li>
<li>Announce <a href="https://github.com/datafuselabs/openraft">OpenRaft</a> to improve raft as the next generation consensus protocol</li>
</ul>
<p>v0.7.0-nightly also includes several new user-facing features, performance optimizations, and many other improvements, activate your object storage for big data analytics!</p>
<p>To learn more, please check out <a href="https://databend.rs/blog/databend-0-7-0-release">Announcing Databend v0.7.0 - Deploy easier, query faster</a>.</p>
<p>Want to know what will happen in v0.8.0? Please check <a href="https://github.com/datafuselabs/databend/issues/4591">Checklist proposal: Nightly v0.8</a>.</p>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.3-nightly">v0.7.3-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.2-nightly">v0.7.2-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.1-nightly">v0.7.1-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.0-nightly">v0.7.0-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.104-nightly">v0.6.104-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.103-nightly">v0.6.103-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.102-nightly">v0.6.102-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.101-nightly">v0.6.101-nightly</a></li>
</ul>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-03-23-databend-weekly/">This week in Databend #34</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-03-23
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><strong>databend-query: support Semi-structured variant data type</strong> by <a href="https://github.com/b41sh">@b41sh</a>, (<a href="https://github.com/datafuselabs/databend/pull/4348">#4348</a>)</li>
<li><strong>databend-query: support stage list &amp; stage streaming upload</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4472">#4472</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/4477">#4477</a>)</li>
<li><strong>databend-query: integrate fuse table with new processor</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4444">#4444</a>)</li>
<li>**databend-query: add support for alter table rename statement ** by <a href="https://github.com/kevinw66">@kevinw66</a>, (<a href="https://github.com/datafuselabs/databend/pull/4532">#4532</a>)</li>
<li><strong>*: add bootstrap_tenant procedure for tenant management</strong> by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4530">#4530</a>)</li>
<li><strong>http handler: support server-side-session</strong> by <a href="https://github.com/youngsofun">@youngsofun</a>, (<a href="https://github.com/datafuselabs/databend/pull/4538">#4538</a>)</li>
<li><strong>metactl: dump data from a running metasrv</strong> by <a href="https://github.com/light4">@light4</a>, (<a href="https://github.com/datafuselabs/databend/pull/4473">#4473</a>)</li>
<li><strong>common-functions: support <code>PARSE_JSON</code> / <code>TRY_PARSE_JSON</code> function</strong> by <a href="https://github.com/b41sh">@b41sh</a>, (<a href="https://github.com/datafuselabs/databend/pull/4534">#4534</a>)</li>
</ul>
<h2 id="improvement">Improvement</h2>
<ul>
<li><strong>common-functions: simplify function creator &amp;&amp; adaptor</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4485">#4485</a>)</li>
<li><strong>common-management: add escape for management key</strong> by <a href="https://github.com/BlackSmith96">@BlackSmith96</a>, (<a href="https://github.com/datafuselabs/databend/pull/4363">#4363</a>)</li>
<li><strong>databend-query: refine count optimization</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4508">#4508</a>)</li>
<li><strong>*: adapt reqsign and separate IO runtime</strong> by <a href="https://github.com/Xuanwo">@Xuanwo</a>, (<a href="https://github.com/datafuselabs/databend/pull/4481">#4481</a>)</li>
</ul>
<h2 id="performance-improvement">Performance Improvement</h2>
<ul>
<li><strong>datavalues: Simd selected for BooleanColumn</strong> by <a href="https://github.com/LiuYuHui">@LiuYuHui</a>, (<a href="https://github.com/datafuselabs/databend/pull/4484">#4484</a>)</li>
<li><strong>databend-query: enable new processor by default(standalone mode)</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4486">#4486</a>)</li>
</ul>
<h2 id="build-test-ci">Build/Test/CI</h2>
<ul>
<li><strong>add musl support &amp; release musl compiled binaries</strong> by <a href="https://github.com/Xuanwo">@Xuanwo</a> &amp; <a href="https://github.com/ZhiHanZ">@ZhiHanZ</a>, (<a href="https://github.com/datafuselabs/databend/pull/4520">#4520</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/4535">#4535</a>)</li>
<li><strong>drop databend-benchmark and old perf tool, add benchmark solution with hyperfine</strong> by <a href="https://github.com/PsiACE">@PsiACE</a>, (<a href="https://github.com/datafuselabs/databend/pull/4545">#4545</a>)</li>
</ul>
<h2 id="bug-fixes">Bug fixes</h2>
<ul>
<li><strong>databend-query: fix groupby single string in new processor</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4475">#4475</a>)</li>
<li><strong>clickhouse handler: to_clickhouse_block always convert to full column if constant</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4514">#4514</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="how-to-benchmark-with-hyperfine">How to Benchmark with Hyperfine</h3>
<p>Databend recommends using hyperfine to perform benchmarking via the ClickHouse/MySQL client. With a simple script, we can run benchmark easily:</p>
<pre data-lang="shell" style="background-color:#151515;color:#e8e8d3;" class="language-shell "><code class="language-shell" data-lang="shell"><span>#!/bin/bash
</span><span>
</span><span>WARMUP=3
</span><span>RUN=10
</span><span>
</span><span>export script=&quot;hyperfine -w $WARMUP -r $RUN&quot;
</span><span>
</span><span>script=&quot;&quot;
</span><span>function run() {
</span><span>        port=$1
</span><span>        sql=$2
</span><span>        result=$3
</span><span>        script=&quot;hyperfine -w $WARMUP -r $RUN&quot;
</span><span>        while read SQL; do
</span><span>                n=&quot;-n \&quot;$SQL\&quot; &quot;
</span><span>                s=&quot;echo \&quot;$SQL\&quot; | mysql -h127.0.0.1 -P$port -uroot -s&quot;
</span><span>                script=&quot;$script &#39;$n&#39; &#39;$s&#39;&quot;
</span><span>        done &lt;&lt;&lt; $(cat $sql)
</span><span>
</span><span>        script=&quot;$script  --export-markdown $result&quot;
</span><span>        echo $script | bash -x
</span><span>}
</span><span>
</span><span>
</span><span>run &quot;$1&quot; &quot;$2&quot; &quot;$3&quot;
</span></code></pre>
<p>For details, please read <a href="https://databend.rs/doc/faq/how-to-benchmark-with-hyperfine">databend.rs - How to Benchmark with Hyperfine</a></p>
<p>We've also updated some of Databend's performance, if you're interested in that, check out the following articles:</p>
<ul>
<li><a href="https://databend.rs/doc/performance/local-vector-performance">Databend Vectorized Engine Performance</a></li>
<li><a href="https://databend.rs/doc/performance/ec2-s3-performance">Databend On Amazon S3 Performance</a></li>
<li><a href="https://databend.rs/doc/performance/ec2-wasabi-performance">Databend On Wasabi Performance</a></li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.100-nightly">v0.6.100-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.99-nightly">v0.6.99-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.98-nightly">v0.6.98-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.97-nightly">v0.6.97-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.96-nightly">v0.6.96-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.95-nightly">v0.6.95-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.94-nightly">v0.6.94-nightly</a></li>
</ul>
<h2 id="ecosystem-upstream">Ecosystem/Upstream</h2>
<p>From open source, for open source. Our team is also committed to contributing to the Rust ecosystem and upstream dependencies.</p>
<ul>
<li><a href="https://github.com/Xuanwo/reqsign">reqsign - Signing API requests without effort</a>: minimal dependencies and support AWS &amp; Azure Storage, by <a href="https://github.com/Xuanwo">@Xuanwo</a></li>
</ul>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-03-16-databend-weekly/">This week in Databend #33</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-03-16
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><strong>databend-query: support copy csv/parquet files from s3 directory</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4373">#4373</a>)</li>
<li>*<strong>: add management mode support to manage warehouse metadata</strong> by <a href="https://github.com/ZhiHanZ">@ZhiHanZ</a>, (<a href="https://github.com/datafuselabs/databend/pull/4379">#4379</a>)</li>
<li><strong>databend-query: support show roles</strong> by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4400">#4400</a>)</li>
<li><strong>databend-query: implement admin$reload_config procedure</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4407">#4407</a>)</li>
<li><strong>databend-query: support grant role and revoke role</strong> by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4451">#4451</a>)</li>
<li><strong>databend-query: add rename table command</strong> by <a href="https://github.com/kevinw66">@kevinw66</a>, (<a href="https://github.com/datafuselabs/databend/pull/4425">#4425</a>)</li>
<li><strong>databend-query: limit pushdown in read plan</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4428">#4428</a>)</li>
<li><strong>http server: query add http api /v1/status</strong> by <a href="https://github.com/youngsofun">@youngsofun</a>, (<a href="https://github.com/datafuselabs/databend/pull/4454">#4454</a>)</li>
</ul>
<h2 id="improvement">Improvement</h2>
<ul>
<li><strong>databend-query: embed more column meta data inside SegmentInfo</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4372">#4372</a>)</li>
<li><strong>databend-query: change async rwlock to sync to avoid async drop</strong> by <a href="https://github.com/ariesdevil">@ariesdevil</a>, (<a href="https://github.com/datafuselabs/databend/pull/4394">#4394</a>)</li>
<li><strong>databend-query: implement new block reader for fuse engine</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4383">#4383</a>)</li>
<li><strong>databend-query: support copy from stage</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4437">#4437</a>)</li>
<li><strong>databend-query: change bloom filter to use datavalue2</strong> by <a href="https://github.com/junli1026">@junli1026</a>, (<a href="https://github.com/datafuselabs/databend/pull/4418">#4418</a>)</li>
<li><strong>functions: refactor ScalarExpression and add simd operator</strong> by <a href="https://github.com/zhyass">@zhyass</a>, (<a href="https://github.com/datafuselabs/databend/pull/4375">#4375</a>)</li>
</ul>
<h2 id="performance-improvement">Performance Improvement</h2>
<ul>
<li><strong>databend-query&amp;datablocks: introduce HashMethodSingleString</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4417">#4417</a>)</li>
<li><strong>databend-query: dedicated runtime for io tasks</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4404">#4404</a>)</li>
</ul>
<h2 id="bug-fixes">Bug fixes</h2>
<ul>
<li><strong>databend-query: fix hang after async processor throw error</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4380">#4380</a>)</li>
<li><strong>databend-query: global MetaGrpcClient cause dispatch drop error</strong> by <a href="https://github.com/ariesdevil">@ariesdevil</a>, (<a href="https://github.com/datafuselabs/databend/pull/4361">#4361</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="deploy-databend-and-try-to-develop">Deploy Databend and try to develop</h3>
<p>Databend has now completely updated its online documentation, supports for multiple deployment scenarios including local disk, s3, minio, and more, and provides first step for application developers in Go and Python.</p>
<p><strong>Deploy</strong></p>
<ul>
<li><a href="https://databend.rs/doc/deploy/local">With local disk</a>: https://databend.rs/doc/deploy/local</li>
<li><a href="https://databend.rs/doc/deploy/s3">With AWS S3</a>: https://databend.rs/doc/deploy/s3</li>
<li><a href="https://databend.rs/doc/deploy/minio">With MinIO</a>: https://databend.rs/doc/deploy/minio</li>
</ul>
<p><strong>Develop</strong></p>
<ul>
<li><a href="https://databend.rs/doc/develop/go">With Go</a>: https://databend.rs/doc/develop/go</li>
<li><a href="https://databend.rs/doc/develop/python">With Python</a>: https://databend.rs/doc/develop/python</li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.93-nightly">v0.6.93-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.92-nightly">v0.6.92-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.91-nightly">v0.6.91-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.90-nightly">v0.6.90-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.89-nightly">v0.6.89-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.88-nightly">v0.6.88-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.87-nightly">v0.6.87-nightly</a></li>
</ul>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-03-09-databend-weekly/">This week in Databend #32</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-03-09
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> aimed to be an open source <strong>elastic</strong> and <strong>reliable</strong> cloud warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><strong>databend-query: external source with new processor</strong>: make external source(like S3) as table engine. by <a href="https://github.com/BohuTANG">@BohuTANG</a>, (<a href="https://github.com/datafuselabs/databend/pull/4277">#4277</a>)</li>
<li><strong>functions: support <code>EXTRACT</code> &amp;&amp; <code>toYear</code></strong> by <a href="https://github.com/clark1013">@clark1013</a>, (<a href="https://github.com/datafuselabs/databend/pull/4329">#4329</a>)</li>
</ul>
<h2 id="improvement">Improvement</h2>
<ul>
<li><strong>databend-query: add more metrics into query_log table</strong>: io metrics of dal level. by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4365">#4365</a>)</li>
<li><strong>databend-meta: refactor role identity</strong>: remove host for role identity. by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4370">#4370</a>)</li>
<li><strong>databend-query: refactor the comparison function by using <code>ScalarBinaryExpression</code></strong> by <a href="https://github.com/zhyass">@zhyass</a>, (<a href="https://github.com/datafuselabs/databend/pull/4285">#4285</a>)</li>
<li><strong>databend-query: add CALL command</strong>: impl CALL syntax parser, add Trait for system function. by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4315">#4315</a>)</li>
</ul>
<h2 id="performance-improvement">Performance Improvement</h2>
<ul>
<li><strong>datablocks&amp;datavalues: support nullable group by</strong>: improved by 60% on the second query with metacache. by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4340">#4340</a>)</li>
<li><strong>datablocks: use `SmallVec`` to improve HashMethod Serialize</strong>: improved by 30%~50% in ontime dataset. by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4353">#4353</a>)</li>
<li><strong>datavalues: Simd Selection of column filter</strong>: improved by ~25%. by <a href="https://github.com/platoneko">@platoneko</a>, (<a href="https://github.com/datafuselabs/databend/pull/4271">#4271</a>)</li>
</ul>
<h2 id="bug-fixes">Bug fixes</h2>
<ul>
<li><strong>databend-query: fix broken tracing spans</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4356">#4356</a>)</li>
<li><strong>mysql servers: make async executor running inside the right runtime</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4334">#4334</a>)</li>
<li><strong>mysql servers: fix hangs on authenticate</strong> by <a href="https://github.com/flaneur2020">@flaneur2020</a>, (<a href="https://github.com/datafuselabs/databend/pull/4317">#4317</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="rfc-semi-structured-data-types">RFC: Semi-structured Data Types</h3>
<p>Semi-structured data types are used to represent schemaless data formats, such as JSON, XML, and so on.
In order to be compatible with <a href="https://docs.snowflake.com/en/sql-reference/data-types-semistructured.html">Snowflake's SQL syntax</a>, we plan to support the following three semi-structured data types:</p>
<ul>
<li><code>Variant</code>: A tagged universal type, which can store values of any other type, including <code>Object</code> and <code>Array</code>.</li>
<li><code>Object</code>: Used to represent collections of key-value pairs, where the key is a non-empty string, and the value is a value of <code>Variant</code> type.</li>
<li><code>Array</code>: Used to represent dense or sparse arrays of arbitrary size, where the index is a non-negative integer (up to 2^31-1), and values are <code>Variant</code> types.</li>
</ul>
<p><strong>For more information</strong> see <a href="https://databend.rs/dev/rfcs/query/semi-structured-data-types">Semi-structured data types design</a>. <strong>For ongoing work</strong> see <a href="https://github.com/datafuselabs/databend/pull/4348">databend#4348</a>.</p>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.86-nightly">v0.6.86-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.85-nightly">v0.6.85-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.84-nightly">v0.6.84-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.83-nightly">v0.6.83-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.82-nightly">v0.6.82-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.81-nightly">v0.6.81-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.80-nightly">v0.6.80-nightly</a></li>
</ul>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            <div class="pagination">
                <div class="pagination__buttons">
                    <span class="button previous">
                        <a href="https://weekly.databend.rs/page/2/">
                            <span class="button__icon">←</span>&nbsp;
                            <span class="button__text">Newer posts</span>
                        </a>
                    </span>
                
                    <span class="button next">
                        <a href="https://weekly.databend.rs/page/4/">
                            <span class="button__text">Older posts</span>&nbsp;
                            <span class="button__icon">→</span>
                        </a>
                    </span>
                </div>
            </div>
        </div>
        
    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>© 
    2022
 Datafuse Labs</span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
