<!DOCTYPE html>
<html lang="en">

<head>
    <title>Databend Weekly</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://weekly.databend.rs/style.css">
    <link rel="stylesheet" href="https://weekly.databend.rs/color/blue.css">

    <link rel="stylesheet" href="https://weekly.databend.rs/font-hack.css">

    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://weekly.databend.rs" style="text-decoration: none;">
                    <div class="logo">
                            Databend Weekly
                        </div>
                </a>
            </div>
        </div>

        <nav class="menu">
            <ul class="menu__inner">
                
                <li class="active"><a href="https://weekly.databend.rs">weekly</a></li>
            
                <li><a href="https://weekly.databend.rs/archive">archive</a></li>
            
                <li><a href="https://github.com/datafuselabs/databend" target="_blank" rel="noopener noreferrer">github</a></li>
            
                <li><a href="https://databend.rs/" target="_blank" rel="noopener noreferrer">docs</a></li>
            
                <li><a href="https://weekly.databend.rs/rss.xml">rss</a></li>
            </ul>
        </nav>
    
    </header>
    

    <div class="content">
        
        <div class="posts">
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-07-13-databend-weekly/">This week in Databend #50</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-07-13
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li>migrate window function to new pipeline (<a href="https://github.com/datafuselabs/databend/pull/6500">#6500</a>)</li>
<li>add format diagnostic (<a href="https://github.com/datafuselabs/databend/pull/6530">#6530</a>)</li>
<li>add date_trunc function (<a href="https://github.com/datafuselabs/databend/pull/6540">#6540</a>)</li>
<li>support global setting (<a href="https://github.com/datafuselabs/databend/pull/6579">#6579</a>)</li>
<li>add <code>{db,table}_id</code> map to <code>{(tenant,db_name)</code>, <code>(db_id, table_name)}</code> in metasrv (<a href="https://github.com/datafuselabs/databend/pull/6607">#6607</a>)</li>
<li>support ALL and SOME subquery, mark join with non-equi condition, and make tpch q20 happy (<a href="https://github.com/datafuselabs/databend/pull/6534">#6534</a>)</li>
</ul>
<p><strong>presign statement</strong></p>
<ul>
<li>add presign statement in parser (<a href="https://github.com/datafuselabs/databend/pull/6513">#6513</a>)</li>
<li>implement presign support (<a href="https://github.com/datafuselabs/databend/pull/6529">#6529</a>)</li>
</ul>
<p><strong>storage</strong></p>
<ul>
<li>allow <code>COPY FROM/INTO</code> different storage services (<a href="https://github.com/datafuselabs/databend/pull/6573">#6573</a>)</li>
<li>allow create stage for different services (<a href="https://github.com/datafuselabs/databend/pull/6602">#6602</a>)</li>
</ul>
<p><strong>new expression</strong></p>
<ul>
<li>add new crate <code>common-expression</code> (<a href="https://github.com/datafuselabs/databend/pull/6576">#6576</a>)</li>
<li>implement pretty print for <code>Chunk</code> (<a href="https://github.com/datafuselabs/databend/pull/6597">#6597</a>)</li>
</ul>
<h3 id="improvement">Improvement</h3>
<ul>
<li>improve performances for group by queries (<a href="https://github.com/datafuselabs/databend/pull/6551">#6551</a>)</li>
<li>try abandon internal parquet2 patches  (<a href="https://github.com/datafuselabs/databend/pull/6067">#6067</a>)</li>
<li>refactor interpreter factory for reuse interpreters code (<a href="https://github.com/datafuselabs/databend/pull/6566">#6566</a>)</li>
<li>replace infallible (<a href="https://github.com/datafuselabs/databend/pull/6568">#6568</a>)</li>
<li>remove old processor useless code (<a href="https://github.com/datafuselabs/databend/pull/6584">#6584</a>)</li>
<li>pretty format for explain (<a href="https://github.com/datafuselabs/databend/pull/6585">#6585</a>)</li>
</ul>
<h3 id="build-testing-ci">Build/Testing/CI</h3>
<ul>
<li>add fuzz ci (<a href="https://github.com/datafuselabs/databend/pull/6574">#6574</a>)</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<ul>
<li>big query hang with clickhouse (<a href="https://github.com/datafuselabs/databend/pull/6583">#6583</a>)</li>
<li>catchup planner update in http handler (<a href="https://github.com/datafuselabs/databend/pull/6572">#6572</a>)</li>
<li>fix load json value by csv format (<a href="https://github.com/datafuselabs/databend/pull/6548">#6548</a>)</li>
<li>fix input format CSV (<a href="https://github.com/datafuselabs/databend/pull/6524">#6524</a>)</li>
<li>show query with limit will failed when enable planner v2 (<a href="https://github.com/datafuselabs/databend/pull/6381">#6381</a>)</li>
<li>add watch txn unit test (<a href="https://github.com/datafuselabs/databend/pull/6526">#6526</a>)</li>
<li>fix thread unsafe when processor schedule (<a href="https://github.com/datafuselabs/databend/pull/6533">#6533</a>)</li>
<li>fix database and user related functions in planner v2 (<a href="https://github.com/datafuselabs/databend/pull/6473">#6473</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="presign-statement">Presign Statement</h3>
<p>Generates the pre-signed URL for a staged file by the stage name and file path you provide. The pre-signed URL enables you to access the file through a web browswer or an API request.</p>
<p><strong>Syntax</strong></p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>PRESIGN [ { DOWNLOAD | UPLOAD }] @&lt;stage_name&gt;/.../&lt;file_name&gt; [ EXPIRE = &lt;expire_in_seconds&gt; ]
</span></code></pre>
<p><strong>Example</strong></p>
<p>This example generates the pre-signed URL for downloading the file <code>books.csv</code> on the stage <code>my-stage</code>:</p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>PRESIGN @my_stage/</span><span style="color:#7697d6;">books</span><span>.</span><span style="color:#7697d6;">csv
</span><span>+</span><span style="color:#888888;">--------+---------+---------------------------------------------------------------------------------+
</span><span>| method | headers | url                                                                             |
</span><span>+</span><span style="color:#888888;">--------+---------+---------------------------------------------------------------------------------+
</span><span>| GET    | {}      | https://</span><span style="color:#7697d6;">example</span><span>.</span><span style="color:#7697d6;">s3</span><span>.</span><span style="color:#7697d6;">amazonaws</span><span>.</span><span style="color:#7697d6;">com</span><span>/</span><span style="color:#7697d6;">books</span><span>.</span><span style="color:#7697d6;">csv</span><span>?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;... |
</span><span>+</span><span style="color:#888888;">--------+---------+---------------------------------------------------------------------------------+
</span></code></pre>
<p><strong>Learn More</strong></p>
<ul>
<li><a href="https://databend.rs/doc/reference/sql/ddl/presign/presign">DOC | PRESIGN</a></li>
<li><a href="https://github.com/datafuselabs/databend/issues/6215">Tracking Issue | Add PRESIGN Support</a></li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.128-nightly">v0.7.128-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.127-nightly">v0.7.127-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.126-nightly">v0.7.126-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.125-nightly">v0.7.125-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.124-nightly">v0.7.124-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.123-nightly">v0.7.123-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.122-nightly">v0.7.122-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.121-nightly">v0.7.121-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/andylokandy"><img alt="andylokandy" src="https://avatars.githubusercontent.com/u/9637710?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ariesdevil"><img alt="ariesdevil" src="https://avatars.githubusercontent.com/u/7812909?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/Defined2014"><img alt="Defined2014" src="https://avatars.githubusercontent.com/u/17435596?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/andylokandy">andylokandy</a></td><td align="center"><a href="https://github.com/ariesdevil">ariesdevil</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td><td align="center"><a href="https://github.com/Defined2014">Defined2014</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/everpcpc"><img alt="everpcpc" src="https://avatars.githubusercontent.com/u/1808802?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/fkuner"><img alt="fkuner" src="https://avatars.githubusercontent.com/u/39162698?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/gaoxinge"><img alt="gaoxinge" src="https://avatars.githubusercontent.com/u/16648345?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/GrapeBaBa"><img alt="GrapeBaBa" src="https://avatars.githubusercontent.com/u/3657859?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/jiaoew1991"><img alt="jiaoew1991" src="https://avatars.githubusercontent.com/u/2297455?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/everpcpc">everpcpc</a></td><td align="center"><a href="https://github.com/fkuner">fkuner</a></td><td align="center"><a href="https://github.com/gaoxinge">gaoxinge</a></td><td align="center"><a href="https://github.com/GrapeBaBa">GrapeBaBa</a></td><td align="center"><a href="https://github.com/jiaoew1991">jiaoew1991</a></td><td align="center"><a href="https://github.com/lichuang">lichuang</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/TCeason"><img alt="TCeason" src="https://avatars.githubusercontent.com/u/33082201?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td><td align="center"><a href="https://github.com/TCeason">TCeason</a></td><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ZeaLoVe"><img alt="ZeaLoVe" src="https://avatars.githubusercontent.com/u/10904090?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhang2014"><img alt="zhang2014" src="https://avatars.githubusercontent.com/u/8087042?v=4&s=117" width="117"></a></th><th align="center"></th><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/ZeaLoVe">ZeaLoVe</a></td><td align="center"><a href="https://github.com/zhang2014">zhang2014</a></td><td align="center"></td><td align="center"></td></tr>
</tbody></table>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-07-06-databend-weekly/">This week in Databend #49</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-07-06
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li>add call procedure for sync stage (<a href="https://github.com/datafuselabs/databend/pull/6344">#6344</a>)</li>
<li><code>show settings</code> support <code>like</code> (<a href="https://github.com/datafuselabs/databend/pull/6394">#6394</a>)</li>
<li>support all <code>JsonEachRowOutputFormat</code> variants (<a href="https://github.com/datafuselabs/databend/pull/6434">#6434</a>)</li>
<li>support any, all and some subquery in parser (<a href="https://github.com/datafuselabs/databend/pull/6438">#6438</a>)</li>
<li>support <code>geo_to_h3</code> function (<a href="https://github.com/datafuselabs/databend/pull/6389">#6389</a>)</li>
</ul>
<p><strong>storage</strong></p>
<ul>
<li>add xz compression support (<a href="https://github.com/datafuselabs/databend/pull/6421">#6421</a>)</li>
<li>introduce system.tables_with_history (<a href="https://github.com/datafuselabs/databend/pull/6435">#6435</a>)</li>
</ul>
<p><strong>new planner</strong></p>
<ul>
<li>migrate call statement to new planner (<a href="https://github.com/datafuselabs/databend/pull/6361">#6361</a>)</li>
<li>support <code>IS [NOT] DISTINCT FROM</code> in planner_v2 (<a href="https://github.com/datafuselabs/databend/pull/6170">#6170</a>)</li>
<li>support qualified column name with database specified (<a href="https://github.com/datafuselabs/databend/pull/6444">#6444</a>)</li>
<li>support mark join, (not)in/any subquery, make tpch16 and tpch18 happy (<a href="https://github.com/datafuselabs/databend/pull/6412">#6412</a>)</li>
</ul>
<p><strong>RFC</strong></p>
<ul>
<li>add Presign statement (<a href="https://github.com/datafuselabs/databend/pull/6503">#6503</a>)</li>
</ul>
<h3 id="improvement">Improvement</h3>
<ul>
<li>add span info for <code>TableReference</code> (<a href="https://github.com/datafuselabs/databend/pull/6370">#6370</a>)</li>
<li>improve optimize table compact (<a href="https://github.com/datafuselabs/databend/pull/6373">#6373</a>)</li>
</ul>
<p><strong>refactor</strong></p>
<ul>
<li>split formats (<a href="https://github.com/datafuselabs/databend/pull/6443">#6443</a>)</li>
<li>intro common-http to reduce duplicate code (<a href="https://github.com/datafuselabs/databend/pull/6484">#6484</a>)</li>
</ul>
<h3 id="build-testing-ci">Build/Testing/CI</h3>
<ul>
<li>logic test with clickhouse handler (<a href="https://github.com/datafuselabs/databend/pull/6329">#6329</a>)</li>
<li>enable semantic PRs and fully migrate to mergify and gh cli (<a href="https://github.com/datafuselabs/databend/pull/6386">#6386</a>, <a href="https://github.com/datafuselabs/databend/pull/6419">#6419</a> and more)</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<ul>
<li>fix hashmap memory leak (<a href="https://github.com/datafuselabs/databend/pull/6354">#6354</a>)</li>
<li>fix array inner type with null (<a href="https://github.com/datafuselabs/databend/pull/6407">#6407</a>)</li>
<li>fix lost event in resize processor (<a href="https://github.com/datafuselabs/databend/pull/6501">#6501</a>)</li>
</ul>
<p><strong>cluster</strong></p>
<ul>
<li>show correctly progress in cluster mode (<a href="https://github.com/datafuselabs/databend/pull/6253">#6253</a>)</li>
<li>fix cannot destroy thread in cluster mode (<a href="https://github.com/datafuselabs/databend/pull/6436">#6436</a>)</li>
</ul>
<p><strong>format</strong></p>
<ul>
<li>add <code>NestedCheckpointReader</code> for input format parser (<a href="https://github.com/datafuselabs/databend/pull/6385">#6385</a>)</li>
<li>fix tsv deserialization (<a href="https://github.com/datafuselabs/databend/pull/6453">#6453</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="monitoring-databend-with-sentry">Monitoring Databend with Sentry</h3>
<p><a href="https://github.com/getsentry/sentry">Sentry</a> is cross-platform application monitoring, with a focus on error reporting. </p>
<p><a href="https://github.com/datafuselabs/databend">Databend</a> supports error tracking and performance monitoring with Sentry.</p>
<h4 id="preparing">Preparing</h4>
<ul>
<li>Use the SaaS service provided by <a href="https://sentry.io/">sentry.io</a>, or deploy it yourself by following <a href="https://develop.sentry.dev/self-hosted/">Self-Hosted Sentry</a>.</li>
<li>Create a project in Sentry and get a <code>DSN</code>. The <code>DSN</code> looks the same as <code>http://0c44e65426cb4f87ba059464c0740502@127.0.0.1:9000/5</code>.</li>
</ul>
<h4 id="error-tracking">Error Tracking</h4>
<p>This will only use the sentry-log feature, which will help us with error tracking.</p>
<pre data-lang="bash" style="background-color:#151515;color:#e8e8d3;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb964;">DATABEND_SENTRY_DSN</span><span>=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">&lt;your-sentry-dsn&gt;</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">./databend-query
</span></code></pre>
<p><img src="https://databend.rs/img/tracing/sentry-error.png" alt="sentry-error" /></p>
<h4 id="performance-monitoring">Performance Monitoring</h4>
<p>Setting <code>SENTRY_TRACES_SAMPLE_RATE</code> greater than 0.0 will allow sentry to perform trace sampling, which will help set up performance monitoring.</p>
<pre data-lang="bash" style="background-color:#151515;color:#e8e8d3;" class="language-bash "><code class="language-bash" data-lang="bash"><span style="color:#ffb964;">DATABEND_SENTRY_DSN</span><span>=</span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">&lt;your-sentry-dsn&gt;</span><span style="color:#556633;">&quot; </span><span style="color:#ffb964;">SENTRY_TRACES_SAMPLE_RATE</span><span>=</span><span style="color:#99ad6a;">1.0 </span><span style="color:#ffb964;">LOG_LEVEL</span><span>=</span><span style="color:#99ad6a;">DEBUG </span><span style="color:#ffb964;">./databend-query
</span></code></pre>
<p><strong>Note:</strong> Set <code>SENTRY_TRACES_SAMPLE_RATE</code> to a lower value in production.</p>
<p><img src="https://databend.rs/img/tracing/sentry-performance.png" alt="sentry-performance" /></p>
<h4 id="learn-more">Learn more</h4>
<ul>
<li><a href="https://databend.rs/doc/faq/how-to-tracing#error-tracking-and-performance-monitoring-with-sentry">DOC | Error Tracking and Performance Monitoring with Sentry</a></li>
<li><a href="https://github.com/datafuselabs/databend/pull/6226">PR | Integration with Sentry</a></li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.120-nightly">v0.7.120-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.119-nightly">v0.7.119-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.118-nightly">v0.7.118-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.117-nightly">v0.7.117-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.116-nightly">v0.7.116-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.115-nightly">v0.7.115-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.114-nightly">v0.7.114-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.113-nightly">v0.7.113-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.112-nightly">v0.7.112-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.111-nightly">v0.7.111-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.110-nightly">v0.7.110-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.109-nightly">v0.7.109-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/ariesdevil"><img alt="ariesdevil" src="https://avatars.githubusercontent.com/u/7812909?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ClSlaid"><img alt="ClSlaid" src="https://avatars.githubusercontent.com/u/44747719?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/databend-bot"><img alt="databend-bot" src="https://avatars.githubusercontent.com/u/82190365?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/ariesdevil">ariesdevil</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/ClSlaid">ClSlaid</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td><td align="center"><a href="https://github.com/databend-bot">databend-bot</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/drmingdrmer"><img alt="drmingdrmer" src="https://avatars.githubusercontent.com/u/44069?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/everpcpc"><img alt="everpcpc" src="https://avatars.githubusercontent.com/u/1808802?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/flaneur2020"><img alt="flaneur2020" src="https://avatars.githubusercontent.com/u/129800?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/junnplus"><img alt="junnplus" src="https://avatars.githubusercontent.com/u/8097526?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/drmingdrmer">drmingdrmer</a></td><td align="center"><a href="https://github.com/everpcpc">everpcpc</a></td><td align="center"><a href="https://github.com/flaneur2020">flaneur2020</a></td><td align="center"><a href="https://github.com/junnplus">junnplus</a></td><td align="center"><a href="https://github.com/leiysky">leiysky</a></td><td align="center"><a href="https://github.com/lichuang">lichuang</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/PragmaTwice"><img alt="PragmaTwice" src="https://avatars.githubusercontent.com/u/20042607?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/TCeason"><img alt="TCeason" src="https://avatars.githubusercontent.com/u/33082201?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td><td align="center"><a href="https://github.com/PragmaTwice">PragmaTwice</a></td><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td><td align="center"><a href="https://github.com/TCeason">TCeason</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/Veeupup"><img alt="Veeupup" src="https://avatars.githubusercontent.com/u/26339429?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ZeaLoVe"><img alt="ZeaLoVe" src="https://avatars.githubusercontent.com/u/10904090?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhang2014"><img alt="zhang2014" src="https://avatars.githubusercontent.com/u/8087042?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/Veeupup">Veeupup</a></td><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/ZeaLoVe">ZeaLoVe</a></td><td align="center"><a href="https://github.com/zhang2014">zhang2014</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/ZhiHanZ"><img alt="ZhiHanZ" src="https://avatars.githubusercontent.com/u/25170437?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhyass"><img alt="zhyass" src="https://avatars.githubusercontent.com/u/34016424?v=4&s=117" width="117"></a></th><th align="center"></th><th align="center"></th><th align="center"></th><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/ZhiHanZ">ZhiHanZ</a></td><td align="center"><a href="https://github.com/zhyass">zhyass</a></td><td align="center"></td><td align="center"></td><td align="center"></td><td align="center"></td></tr>
</tbody></table>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-06-29-databend-weekly/">This week in Databend #48</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-06-29
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li>support abort pipeline (<a href="https://github.com/datafuselabs/databend/pull/6174">#6174</a>)</li>
<li>integration with sentry (<a href="https://github.com/datafuselabs/databend/pull/6226">#6226</a>)</li>
<li>rewrite predicate and accelerate tpch19 (<a href="https://github.com/datafuselabs/databend/pull/6301">#6301</a>)</li>
</ul>
<p><strong>databend meta</strong></p>
<ul>
<li>support leave a cluster with <code>databend-meta --leave..</code> (<a href="https://github.com/datafuselabs/databend/pull/6181">#6181</a>)</li>
<li>add import init cluster support (<a href="https://github.com/datafuselabs/databend/pull/6280">#6280</a>)</li>
</ul>
<p><strong>statements</strong></p>
<ul>
<li>support <code>exists</code> statement (<a href="https://github.com/datafuselabs/databend/pull/6166">#6166</a>)</li>
<li>statement <code>delete from...</code> (<a href="https://github.com/datafuselabs/databend/pull/5691">#5691</a>)</li>
<li>order by sub stmt support db.table.col (<a href="https://github.com/datafuselabs/databend/pull/6191">#6191</a>)</li>
</ul>
<p><strong>new planner</strong></p>
<ul>
<li>introduce serializable physical plan (<a href="https://github.com/datafuselabs/databend/pull/6191">#6191</a>)</li>
<li>support non-equi conditions in hash join (<a href="https://github.com/datafuselabs/databend/pull/6145">#6145</a>)</li>
<li>decorrelate EXISTS subquery with non-equi condition (<a href="https://github.com/datafuselabs/databend/pull/6232">#6232</a>)</li>
<li>migrate Create(<a href="https://github.com/datafuselabs/databend/pull/5905">#5905</a>)/Alter(<a href="https://github.com/datafuselabs/databend/pull/6319">#6319</a>)/Drop(<a href="https://github.com/datafuselabs/databend/pull/6327">#6327</a>) UDF</li>
</ul>
<h3 id="improvement">Improvement</h3>
<ul>
<li>improve compatibility with clickhouse http handler (<a href="https://github.com/datafuselabs/databend/pull/6148">#6148</a>)</li>
<li>limit push down for table <code>fuse_snapshot</code> &amp; proc <code>system$fuse_snapshot</code> (<a href="https://github.com/datafuselabs/databend/pull/6167">#6167</a>)</li>
<li>split ast statements into multiple mods (<a href="https://github.com/datafuselabs/databend/pull/6176">#6176</a>)</li>
<li>store grpc addr to node info and auto refresh backends addrs for grpc client (<a href="https://github.com/datafuselabs/databend/pull/5495">#5495</a>)</li>
</ul>
<p><strong>Join Performance Improvements</strong></p>
<ul>
<li>improve left/semi/anti join performance [~80x] (<a href="https://github.com/datafuselabs/databend/pull/6241">#6241</a>)</li>
<li>improve join results gather [~7x] (<a href="https://github.com/datafuselabs/databend/pull/6228">#6228</a>)</li>
<li>improve semi/anti join with other conjuncts [~17x] (<a href="https://github.com/datafuselabs/databend/pull/6366">#6366</a>)</li>
</ul>
<h3 id="build-testing-ci">Build/Testing/CI</h3>
<ul>
<li>add tpch stateless-test (<a href="https://github.com/datafuselabs/databend/pull/6225">#6225</a>)</li>
<li>add async insert test (<a href="https://github.com/datafuselabs/databend/pull/5964">#5964</a>)</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<ul>
<li>fix datatype different cause mysql session distroy (<a href="https://github.com/datafuselabs/databend/pull/6150">#6150</a>)</li>
<li>fix node id truncation when cluster id is escaped (<a href="https://github.com/datafuselabs/databend/pull/6193">#6193</a>)</li>
<li>fix aggregate count incorrect state place (<a href="https://github.com/datafuselabs/databend/pull/6218">#6218</a>)</li>
<li>fix grouping check (<a href="https://github.com/datafuselabs/databend/pull/6219">#6219</a>)</li>
<li>fix output of to_datetime() (<a href="https://github.com/datafuselabs/databend/pull/6252">#6252</a>)</li>
<li>fix MySQL connection close_wait or fin_wait_2 (<a href="https://github.com/datafuselabs/databend/pull/6341">#6341</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="delete-in-databend"><code>DELETE</code> in Databend</h3>
<p>The <code>DELETE</code> statement can delete one or more rows from a table.</p>
<p><strong>Syntax</strong></p>
<p>Databend now supports such syntax:</p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>DELETE FROM table_name
</span><span>[WHERE search_ condition]
</span></code></pre>
<p><strong>Example</strong></p>
<p>Suppose that the <code>bookstore</code> table currently contains the following data:</p>
<table><thead><tr><th>bookId</th><th>bookName</th></tr></thead><tbody>
<tr><td>101</td><td>After the death of Don Juan</td></tr>
<tr><td>102</td><td>Grown ups</td></tr>
<tr><td>103</td><td>The long answer</td></tr>
<tr><td>104</td><td>Wartime friends</td></tr>
<tr><td>105</td><td>Deconstructed</td></tr>
</tbody></table>
<p>Now let's delete the book with id = 103:</p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>DELETE from bookstore where bookId = </span><span style="color:#cf6a4c;">103</span><span>;
</span></code></pre>
<p>After deletion, the data in the <code>bookstore</code> table is shown as follows:</p>
<table><thead><tr><th>bookId</th><th>bookName</th></tr></thead><tbody>
<tr><td>101</td><td>After the death of Don Juan</td></tr>
<tr><td>102</td><td>Grown ups</td></tr>
<tr><td>104</td><td>Wartime friends</td></tr>
<tr><td>105</td><td>Deconstructed</td></tr>
</tbody></table>
<p><strong>Learn more:</strong></p>
<ul>
<li><a href="https://databend.rs/doc/reference/sql/dml/dml-delete-from">DOC | DELETE</a></li>
<li><a href="https://github.com/datafuselabs/databend/pull/5691">PR | statement <code>delete from... </code></a></li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.108-nightly">v0.7.108-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.107-nightly">v0.7.107-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.106-nightly">v0.7.106-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.105-nightly">v0.7.105-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.104-nightly">v0.7.104-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.103-nightly">v0.7.103-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.102-nightly">v0.7.102-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.101-nightly">v0.7.101-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.100-nightly">v0.7.100-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.99-nightly">v0.7.99-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.98-nightly">v0.7.98-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/ariesdevil"><img alt="ariesdevil" src="https://avatars.githubusercontent.com/u/7812909?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ClSlaid"><img alt="ClSlaid" src="https://avatars.githubusercontent.com/u/44747719?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/cuichenli"><img alt="cuichenli" src="https://avatars.githubusercontent.com/u/29245119?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/ariesdevil">ariesdevil</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/ClSlaid">ClSlaid</a></td><td align="center"><a href="https://github.com/cuichenli">cuichenli</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/drmingdrmer"><img alt="drmingdrmer" src="https://avatars.githubusercontent.com/u/44069?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/everpcpc"><img alt="everpcpc" src="https://avatars.githubusercontent.com/u/1808802?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/fkuner"><img alt="fkuner" src="https://avatars.githubusercontent.com/u/39162698?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/drmingdrmer">drmingdrmer</a></td><td align="center"><a href="https://github.com/everpcpc">everpcpc</a></td><td align="center"><a href="https://github.com/fkuner">fkuner</a></td><td align="center"><a href="https://github.com/leiysky">leiysky</a></td><td align="center"><a href="https://github.com/lichuang">lichuang</a></td><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/TCeason"><img alt="TCeason" src="https://avatars.githubusercontent.com/u/33082201?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/TennyZhuang"><img alt="TennyZhuang" src="https://avatars.githubusercontent.com/u/9161438?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td><td align="center"><a href="https://github.com/TCeason">TCeason</a></td><td align="center"><a href="https://github.com/TennyZhuang">TennyZhuang</a></td><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhang2014"><img alt="zhang2014" src="https://avatars.githubusercontent.com/u/8087042?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ZhiHanZ"><img alt="ZhiHanZ" src="https://avatars.githubusercontent.com/u/25170437?v=4&s=117" width="117"></a></th><th align="center"></th><th align="center"></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/zhang2014">zhang2014</a></td><td align="center"><a href="https://github.com/ZhiHanZ">ZhiHanZ</a></td><td align="center"></td><td align="center"></td></tr>
</tbody></table>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-06-22-databend-weekly/">This week in Databend #47</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-06-22
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li>transient fuse table (<a href="https://github.com/datafuselabs/databend/pull/5968">#5968</a>)</li>
<li>support field comment (<a href="https://github.com/datafuselabs/databend/pull/5952">#5952</a>)</li>
<li>stop parsing at insert statement (<a href="https://github.com/datafuselabs/databend/pull/6048">#6048</a>)</li>
<li>configurable repr of float denormals in output formats (<a href="https://github.com/datafuselabs/databend/pull/6065">#6065</a>)</li>
<li>integrate cluster select query with new processor (<a href="https://github.com/datafuselabs/databend/pull/4544">#4544</a>)</li>
</ul>
<p><strong>optimizer</strong></p>
<ul>
<li>decorrelate <code>EXISTS</code> subquery (<a href="https://github.com/datafuselabs/databend/pull/6073">#6073</a>)</li>
<li>support push down filter through cross apply (<a href="https://github.com/datafuselabs/databend/pull/6079">#6079</a>)</li>
</ul>
<p><strong>functions</strong></p>
<ul>
<li>support <code>ifnull</code> (<a href="https://github.com/datafuselabs/databend/pull/5921">#5921</a>)</li>
<li>support <code>multi_if</code> (<a href="https://github.com/datafuselabs/databend/pull/6039">#6039</a>)</li>
<li>support <code>date_sub</code> (<a href="https://github.com/datafuselabs/databend/pull/6050">#6050</a>)</li>
<li>support <code>to_nullable</code> and <code>assume_not_null</code> (<a href="https://github.com/datafuselabs/databend/pull/6055">#6055</a>)</li>
<li>support <code>coalesce</code> (<a href="https://github.com/datafuselabs/databend/pull/5922">#5922</a>)</li>
</ul>
<p><strong>clickhouse handle</strong></p>
<ul>
<li>support settings (<a href="https://github.com/datafuselabs/databend/pull/5945">#5945</a>)</li>
<li>improve output format (<a href="https://github.com/datafuselabs/databend/pull/6027">#6027</a>)</li>
<li>support set database. (<a href="https://github.com/datafuselabs/databend/pull/6097">#6097</a>)</li>
</ul>
<p><strong>new planner</strong></p>
<ul>
<li>show statements (<a href="https://github.com/datafuselabs/databend/pull/6013">#6013</a>)</li>
<li>show users/roles statement (<a href="https://github.com/datafuselabs/databend/pull/6016">#6016</a>)</li>
<li>migrate grant (<a href="https://github.com/datafuselabs/databend/pull/6049">#6049</a>)</li>
<li>migrate revoke (<a href="https://github.com/datafuselabs/databend/pull/6066">#6066</a>)</li>
<li>migrate copy (<a href="https://github.com/datafuselabs/databend/pull/6074">#6074</a>)</li>
<li>migrate insert statement (<a href="https://github.com/datafuselabs/databend/pull/5897">#5897</a>)</li>
<li>support query log for new planner (<a href="https://github.com/datafuselabs/databend/pull/6053">#6053</a>)</li>
<li>support <code>SELECT ... FROM ... { AT TIMESTAMP }</code> (<a href="https://github.com/datafuselabs/databend/pull/6056">#6056</a>)</li>
</ul>
<h3 id="improvement">Improvement</h3>
<ul>
<li>stop supporting multiple statements (<a href="https://github.com/datafuselabs/databend/pull/6052">#6052</a>)</li>
<li>make uuid return uuid values for each row (<a href="https://github.com/datafuselabs/databend/pull/6114">#6114</a>)</li>
<li>add more meta cluster status (<a href="https://github.com/datafuselabs/databend/pull/6083">#6083</a>)</li>
<li>cache panic of http handlers (<a href="https://github.com/datafuselabs/databend/pull/6090">#6090</a>)</li>
<li>adjust table snapshot timestamp precision to micro second (<a href="https://github.com/datafuselabs/databend/pull/6144">#6144</a>)</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<ul>
<li>fix <code>de_csv</code> with escaped quoted (<a href="https://github.com/datafuselabs/databend/pull/6008">#6008</a>)</li>
<li>consider <code>NULL</code> for binary op in type checker (<a href="https://github.com/datafuselabs/databend/pull/6043">#6043</a>)</li>
<li>fix error of <code>EXISTS</code> subquery (<a href="https://github.com/datafuselabs/databend/pull/6073">#6073</a>)</li>
<li>transient object storage IO operation fault handling (<a href="https://github.com/datafuselabs/databend/pull/6045">#6045</a>)</li>
<li>remove a wrong cut parser in subquery (<a href="https://github.com/datafuselabs/databend/pull/6111">#6111</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="cluster-key">Cluster key</h3>
<p>Cluster key is intended to improve query performance by physically clustering data together. </p>
<p>For example, when you set a column as your cluster key for a table, the table data will be physically sorted by the column you set. This will maximize the query performance if your most queries are filtered by the column.</p>
<p><strong>Sets a cluster key when creating a table</strong></p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>CREATE TABLE &lt;name&gt; ... CLUSTER BY ( &lt;expr1&gt; [ , &lt;expr2&gt; ... ] )
</span></code></pre>
<p><strong>Changes the cluster key for a table</strong></p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>ALTER TABLE &lt;name&gt; CLUSTER BY ( &lt;expr1&gt; [ , &lt;expr2&gt; ... ] )
</span></code></pre>
<p><strong>Deletes the cluster key for a table</strong></p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>ALTER TABLE &lt;name&gt; DROP CLUSTER KEY
</span></code></pre>
<p><strong>Learn more:</strong></p>
<ul>
<li><a href="https://databend.rs/doc/reference/sql/ddl/clusterkey/dml-set-cluster-key">DOC | SET CLUSTER KEY</a></li>
<li><a href="https://databend.rs/doc/reference/sql/ddl/clusterkey/dml-alter-cluster-key">DOC | ALTER CLUSTER KEY</a></li>
<li><a href="https://databend.rs/doc/reference/sql/ddl/clusterkey/dml-drop-cluster-key">DOC | DROP CLUSTER KEY</a></li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.97-nightly">v0.7.97-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.96-nightly">v0.7.96-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.95-nightly">v0.7.95-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.94-nightly">v0.7.94-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.93-nightly">v0.7.93-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.92-nightly">v0.7.92-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.91-nightly">v0.7.91-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.90-nightly">v0.7.90-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.89-nightly">v0.7.89-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.88-nightly">v0.7.88-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/andylokandy"><img alt="andylokandy" src="https://avatars.githubusercontent.com/u/9637710?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/AngleNet"><img alt="AngleNet" src="https://avatars.githubusercontent.com/u/14330209?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/cadl"><img alt="cadl" src="https://avatars.githubusercontent.com/u/1629582?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/andylokandy">andylokandy</a></td><td align="center"><a href="https://github.com/AngleNet">AngleNet</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/cadl">cadl</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/drmingdrmer"><img alt="drmingdrmer" src="https://avatars.githubusercontent.com/u/44069?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/everpcpc"><img alt="everpcpc" src="https://avatars.githubusercontent.com/u/1808802?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/fkuner"><img alt="fkuner" src="https://avatars.githubusercontent.com/u/39162698?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/hantmac"><img alt="hantmac" src="https://avatars.githubusercontent.com/u/7600925?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/junnplus"><img alt="junnplus" src="https://avatars.githubusercontent.com/u/8097526?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/drmingdrmer">drmingdrmer</a></td><td align="center"><a href="https://github.com/everpcpc">everpcpc</a></td><td align="center"><a href="https://github.com/fkuner">fkuner</a></td><td align="center"><a href="https://github.com/hantmac">hantmac</a></td><td align="center"><a href="https://github.com/junnplus">junnplus</a></td><td align="center"><a href="https://github.com/leiysky">leiysky</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/RinChanNOWWW"><img alt="RinChanNOWWW" src="https://avatars.githubusercontent.com/u/33975039?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/lichuang">lichuang</a></td><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td><td align="center"><a href="https://github.com/RinChanNOWWW">RinChanNOWWW</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/TCeason"><img alt="TCeason" src="https://avatars.githubusercontent.com/u/33082201?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/TennyZhuang"><img alt="TennyZhuang" src="https://avatars.githubusercontent.com/u/9161438?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/TianLangStudio"><img alt="TianLangStudio" src="https://avatars.githubusercontent.com/u/20293523?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/Veeupup"><img alt="Veeupup" src="https://avatars.githubusercontent.com/u/26339429?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/wfxr"><img alt="wfxr" src="https://avatars.githubusercontent.com/u/6105425?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/wubx"><img alt="wubx" src="https://avatars.githubusercontent.com/u/320680?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/TCeason">TCeason</a></td><td align="center"><a href="https://github.com/TennyZhuang">TennyZhuang</a></td><td align="center"><a href="https://github.com/TianLangStudio">TianLangStudio</a></td><td align="center"><a href="https://github.com/Veeupup">Veeupup</a></td><td align="center"><a href="https://github.com/wfxr">wfxr</a></td><td align="center"><a href="https://github.com/wubx">wubx</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/yuuch"><img alt="yuuch" src="https://avatars.githubusercontent.com/u/14847010?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhang2014"><img alt="zhang2014" src="https://avatars.githubusercontent.com/u/8087042?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhyass"><img alt="zhyass" src="https://avatars.githubusercontent.com/u/34016424?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/yuuch">yuuch</a></td><td align="center"><a href="https://github.com/zhang2014">zhang2014</a></td><td align="center"><a href="https://github.com/zhyass">zhyass</a></td></tr>
</tbody></table>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-06-15-databend-weekly/">This week in Databend #46</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-06-15
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><code>WINDOW</code> function (<a href="https://github.com/datafuselabs/databend/pull/5401">#5401</a>)</li>
<li>new table engine: <code>RANDOM</code> (<a href="https://github.com/datafuselabs/databend/pull/5896">#5896</a>)</li>
<li>clickhouse http handler support TsvWithNamesAndTypes (<a href="https://github.com/datafuselabs/databend/pull/5898">#5898</a>)</li>
<li>add benchmark scripts of metasrv (<a href="https://github.com/datafuselabs/databend/pull/5865">#5865</a>)</li>
<li>support remove stage files (<a href="https://github.com/datafuselabs/databend/pull/5788">#5788</a>)</li>
<li>support struct data type (<a href="https://github.com/datafuselabs/databend/pull/5940">#5940</a>)</li>
</ul>
<p><strong>optimizer</strong></p>
<ul>
<li>support some common optimizer rules to refine optimizer framework (<a href="https://github.com/datafuselabs/databend/pull/5877">#5877</a>)</li>
<li>support predicate push down through join (<a href="https://github.com/datafuselabs/databend/pull/5914">#5914</a>)</li>
<li>support constant folding (<a href="https://github.com/datafuselabs/databend/pull/5924">#5924</a>)</li>
</ul>
<p><strong>new planner</strong></p>
<ul>
<li>support left outer join and right outer join (<a href="https://github.com/datafuselabs/databend/pull/5972">#5972</a>)</li>
<li>support semi and anti join in new planner (<a href="https://github.com/datafuselabs/databend/pull/5869">#5869</a>)</li>
<li>support set operators in parser and planner (<a href="https://github.com/datafuselabs/databend/pull/5833">#5833</a>)</li>
<li>support table statements in new planner (<a href="https://github.com/datafuselabs/databend/pull/5907">#5907</a>)</li>
<li>add <code>DDL STAGE</code> for new planner framework (<a href="https://github.com/datafuselabs/databend/pull/5821">#5821</a>)</li>
<li>support rename database in new planner (<a href="https://github.com/datafuselabs/databend/pull/5887">#5887</a>)</li>
<li>support <code>alter/drop view</code> in new planner (<a href="https://github.com/datafuselabs/databend/pull/5862">#5862</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/5920">#5920</a>)</li>
<li>migrate CREATE/DROP ROLE statement to new planner (<a href="https://github.com/datafuselabs/databend/pull/5935">#5935</a>)</li>
</ul>
<h3 id="improvement">Improvement</h3>
<ul>
<li>row base serializer  (<a href="https://github.com/datafuselabs/databend/pull/5791">#5791</a>)</li>
<li>renaming for better readability (<a href="https://github.com/datafuselabs/databend/pull/5879">#5879</a>)</li>
<li>list/remove stage files from meta api (<a href="https://github.com/datafuselabs/databend/pull/5857">#5857</a>)</li>
<li>use unboxed_simple to simple GAT in async-trait (<a href="https://github.com/datafuselabs/databend/pull/5999">#5999</a>)</li>
<li>add meta grpc client network metrics (<a href="https://github.com/datafuselabs/databend/pull/5978">#5978</a>)</li>
<li>improve clickhouse http handler (<a href="https://github.com/datafuselabs/databend/pull/5933">#5933</a>)</li>
<li>use micromarshal to make references clearer (<a href="https://github.com/datafuselabs/databend/pull/5974">#5974</a>)</li>
</ul>
<h3 id="build-testing-ci">Build / Testing / CI</h3>
<ul>
<li>use fuse engine instead of memory engine in test (<a href="https://github.com/datafuselabs/databend/pull/5530">#5530</a>)</li>
</ul>
<h3 id="bug-fixes">Bug fixes</h3>
<ul>
<li>fix read quoted string (<a href="https://github.com/datafuselabs/databend/pull/5870">#5870</a>)</li>
<li>corretly handle catalog in statements (<a href="https://github.com/datafuselabs/databend/pull/5909">#5909</a>)</li>
<li>fix correlated subquery with joins (<a href="https://github.com/datafuselabs/databend/pull/5947">#5947</a>)</li>
<li>server panic when exceeds max active sessions (<a href="https://github.com/datafuselabs/databend/pull/5928">#5928</a>)</li>
<li>fix status cause mysql client hang (<a href="https://github.com/datafuselabs/databend/pull/5961">#5961</a>)</li>
<li><code>ProcessorExecutorStream</code> lost data (<a href="https://github.com/datafuselabs/databend/pull/5983">#5983</a>)</li>
<li>fix incorrect return datatype of function if (<a href="https://github.com/datafuselabs/databend/pull/5980">#5980</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="using-join-with-databend">Using Join with Databend</h3>
<p>As you can see, one of the major efforts of Databend in recent times has been the development and migration to the new Planner. We have implemented support for Join on the new Planner to better accommodate multi-table queries.</p>
<blockquote>
<p>To use JOIN, you must enable the new Databend planner first. To do so, perform the following command in the SQL client:</p>
<pre data-lang="SQL" style="background-color:#151515;color:#e8e8d3;" class="language-SQL "><code class="language-SQL" data-lang="SQL"><span>set enable_planner_v2=</span><span style="color:#cf6a4c;">1</span><span>;
</span></code></pre>
</blockquote>
<p>A join allows you to combine columns from two or more tables into a single result set. Databend supports the following join types:</p>
<ul>
<li>Inner Join</li>
<li>Natural Join</li>
<li>Cross Join</li>
<li>Left Join</li>
<li>Right Join</li>
</ul>
<p><strong>Let's see a <code>CROSS JOIN</code> example</strong></p>
<p>A <em>cross join</em> returns a result set that includes each row from the first table joined with each row from the second table.</p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>SELECT select_list
</span><span>FROM table_a
</span><span>	CROSS JOIN table_b
</span></code></pre>
<p>Imagine we have the following tables:</p>
<p>Table &quot;vip_info&quot;: This table stores the VIP client information.</p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>| Client_ID | Region    |
</span><span>| --------- | --------- |
</span><span>| 101       | Toronto   |
</span><span>| 102       | Quebec    |
</span><span>| 103       | Vancouver |
</span></code></pre>
<p>Table &quot;gift&quot;: This table lists the gift options for the VIP clients.</p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>| Gift      |
</span><span>| --------- |
</span><span>| Croissant |
</span><span>| Donut     |
</span><span>| Coffee    |
</span><span>| Soda      |
</span></code></pre>
<p>The following command returns a result set that assigns each gift option to each VIP client:</p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>select </span><span style="color:#ffb964;">* </span><span>from vip_info cross join gift;
</span></code></pre>
<p>Output:</p>
<pre style="background-color:#151515;color:#e8e8d3;"><code><span>| Client_ID | Region    | Gift      |
</span><span>| --------- | --------- | --------- |
</span><span>| 101       | Toronto   | Croissant |
</span><span>| 101       | Toronto   | Donut     |
</span><span>| 101       | Toronto   | Coffee    |
</span><span>| 101       | Toronto   | Soda      |
</span><span>| 102       | Quebec    | Croissant |
</span><span>| 102       | Quebec    | Donut     |
</span><span>| 102       | Quebec    | Coffee    |
</span><span>| 102       | Quebec    | Soda      |
</span><span>| 103       | Vancouver | Croissant |
</span><span>| 103       | Vancouver | Donut     |
</span><span>| 103       | Vancouver | Coffee    |
</span><span>| 103       | Vancouver | Soda      |
</span></code></pre>
<p><strong>Learn more:</strong></p>
<ul>
<li><a href="https://databend.rs/doc/reference/sql/query-syntax/dml-join">DOC | JOIN</a></li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.87-nightly">v0.7.87-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.86-nightly">v0.7.86-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.85-nightly">v0.7.85-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.84-nightly">v0.7.84-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.83-nightly">v0.7.83-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.82-nightly">v0.7.82-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.81-nightly">v0.7.81-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.80-nightly">v0.7.80-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.79-nightly">v0.7.79-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.7.78-nightly">v0.7.78-nightly</a></li>
</ul>
<h2 id="contributors">Contributors</h2>
<p>Thanks a lot to the contributors for their excellent work this week.</p>
<table><thead><tr><th align="center"><a href="https://github.com/andylokandy"><img alt="andylokandy" src="https://avatars.githubusercontent.com/u/9637710?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/b41sh"><img alt="b41sh" src="https://avatars.githubusercontent.com/u/1070352?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/BohuTANG"><img alt="BohuTANG" src="https://avatars.githubusercontent.com/u/172204?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/dantengsky"><img alt="dantengsky" src="https://avatars.githubusercontent.com/u/22081156?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/doki23"><img alt="doki23" src="https://avatars.githubusercontent.com/u/11144133?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/everpcpc"><img alt="everpcpc" src="https://avatars.githubusercontent.com/u/1808802?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/andylokandy">andylokandy</a></td><td align="center"><a href="https://github.com/b41sh">b41sh</a></td><td align="center"><a href="https://github.com/BohuTANG">BohuTANG</a></td><td align="center"><a href="https://github.com/dantengsky">dantengsky</a></td><td align="center"><a href="https://github.com/doki23">doki23</a></td><td align="center"><a href="https://github.com/everpcpc">everpcpc</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/fkuner"><img alt="fkuner" src="https://avatars.githubusercontent.com/u/39162698?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/hantmac"><img alt="hantmac" src="https://avatars.githubusercontent.com/u/7600925?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/junnplus"><img alt="junnplus" src="https://avatars.githubusercontent.com/u/8097526?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/Kikkon"><img alt="Kikkon" src="https://avatars.githubusercontent.com/u/19528375?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/leiysky"><img alt="leiysky" src="https://avatars.githubusercontent.com/u/22445410?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/lichuang"><img alt="lichuang" src="https://avatars.githubusercontent.com/u/1998569?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/fkuner">fkuner</a></td><td align="center"><a href="https://github.com/hantmac">hantmac</a></td><td align="center"><a href="https://github.com/junnplus">junnplus</a></td><td align="center"><a href="https://github.com/Kikkon">Kikkon</a></td><td align="center"><a href="https://github.com/leiysky">leiysky</a></td><td align="center"><a href="https://github.com/lichuang">lichuang</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/apps/mergify"><img alt="mergify[bot]" src="https://avatars.githubusercontent.com/in/10562?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/PsiACE"><img alt="PsiACE" src="https://avatars.githubusercontent.com/u/36896360?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/RinChanNOWWW"><img alt="RinChanNOWWW" src="https://avatars.githubusercontent.com/u/33975039?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/soyeric128"><img alt="soyeric128" src="https://avatars.githubusercontent.com/u/106025534?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/sundy-li"><img alt="sundy-li" src="https://avatars.githubusercontent.com/u/3325189?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/TCeason"><img alt="TCeason" src="https://avatars.githubusercontent.com/u/33082201?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/apps/mergify">mergify[bot]</a></td><td align="center"><a href="https://github.com/PsiACE">PsiACE</a></td><td align="center"><a href="https://github.com/RinChanNOWWW">RinChanNOWWW</a></td><td align="center"><a href="https://github.com/soyeric128">soyeric128</a></td><td align="center"><a href="https://github.com/sundy-li">sundy-li</a></td><td align="center"><a href="https://github.com/TCeason">TCeason</a></td></tr>
</tbody></table>
<table><thead><tr><th align="center"><a href="https://github.com/Xuanwo"><img alt="Xuanwo" src="https://avatars.githubusercontent.com/u/5351546?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/xudong963"><img alt="xudong963" src="https://avatars.githubusercontent.com/u/41979257?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ygf11"><img alt="ygf11" src="https://avatars.githubusercontent.com/u/3428089?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/youngsofun"><img alt="youngsofun" src="https://avatars.githubusercontent.com/u/5782159?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/ZeaLoVe"><img alt="ZeaLoVe" src="https://avatars.githubusercontent.com/u/10904090?v=4&s=117" width="117"></a></th><th align="center"><a href="https://github.com/zhyass"><img alt="zhyass" src="https://avatars.githubusercontent.com/u/34016424?v=4&s=117" width="117"></a></th></tr></thead><tbody>
<tr><td align="center"><a href="https://github.com/Xuanwo">Xuanwo</a></td><td align="center"><a href="https://github.com/xudong963">xudong963</a></td><td align="center"><a href="https://github.com/ygf11">ygf11</a></td><td align="center"><a href="https://github.com/youngsofun">youngsofun</a></td><td align="center"><a href="https://github.com/ZeaLoVe">ZeaLoVe</a></td><td align="center"><a href="https://github.com/zhyass">zhyass</a></td></tr>
</tbody></table>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            <div class="pagination">
                <div class="pagination__buttons">
                    <span class="button previous">
                        <a href="https://weekly.databend.rs/page/6/">
                            <span class="button__icon">←</span>&nbsp;
                            <span class="button__text">Newer posts</span>
                        </a>
                    </span>
                
                    <span class="button next">
                        <a href="https://weekly.databend.rs/page/8/">
                            <span class="button__text">Older posts</span>&nbsp;
                            <span class="button__icon">→</span>
                        </a>
                    </span>
                </div>
            </div>
        </div>
        
    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>© 
    2023
 Datafuse Labs</span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
