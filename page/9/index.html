<!DOCTYPE html>
<html lang="en">

<head>
    <title>Databend Weekly</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://weekly.databend.rs/style.css">
    <link rel="stylesheet" href="https://weekly.databend.rs/color/blue.css">

    <link rel="stylesheet" href="https://weekly.databend.rs/font-hack.css">

    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://weekly.databend.rs" style="text-decoration: none;">
                    <div class="logo">
                            Databend Weekly
                        </div>
                </a>
            </div>
        </div>

        <nav class="menu">
            <ul class="menu__inner">
                
                <li class="active"><a href="https://weekly.databend.rs">weekly</a></li>
            
                <li><a href="https://weekly.databend.rs/archive">archive</a></li>
            
                <li><a href="https://github.com/datafuselabs/databend" target="_blank" rel="noopener noreferrer">github</a></li>
            
                <li><a href="https://databend.rs/" target="_blank" rel="noopener noreferrer">docs</a></li>
            
                <li><a href="https://weekly.databend.rs/rss.xml">rss</a></li>
            </ul>
        </nav>
    
    </header>
    

    <div class="content">
        
        <div class="posts">
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-03-16-databend-weekly/">This week in Databend #33</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-03-16
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> is an open source <strong>elastic</strong> and <strong>reliable</strong> Modern Cloud Data Warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><strong>databend-query: support copy csv/parquet files from s3 directory</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4373">#4373</a>)</li>
<li>*<strong>: add management mode support to manage warehouse metadata</strong> by <a href="https://github.com/ZhiHanZ">@ZhiHanZ</a>, (<a href="https://github.com/datafuselabs/databend/pull/4379">#4379</a>)</li>
<li><strong>databend-query: support show roles</strong> by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4400">#4400</a>)</li>
<li><strong>databend-query: implement admin$reload_config procedure</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4407">#4407</a>)</li>
<li><strong>databend-query: support grant role and revoke role</strong> by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4451">#4451</a>)</li>
<li><strong>databend-query: add rename table command</strong> by <a href="https://github.com/kevinw66">@kevinw66</a>, (<a href="https://github.com/datafuselabs/databend/pull/4425">#4425</a>)</li>
<li><strong>databend-query: limit pushdown in read plan</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4428">#4428</a>)</li>
<li><strong>http server: query add http api /v1/status</strong> by <a href="https://github.com/youngsofun">@youngsofun</a>, (<a href="https://github.com/datafuselabs/databend/pull/4454">#4454</a>)</li>
</ul>
<h2 id="improvement">Improvement</h2>
<ul>
<li><strong>databend-query: embed more column meta data inside SegmentInfo</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4372">#4372</a>)</li>
<li><strong>databend-query: change async rwlock to sync to avoid async drop</strong> by <a href="https://github.com/ariesdevil">@ariesdevil</a>, (<a href="https://github.com/datafuselabs/databend/pull/4394">#4394</a>)</li>
<li><strong>databend-query: implement new block reader for fuse engine</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4383">#4383</a>)</li>
<li><strong>databend-query: support copy from stage</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4437">#4437</a>)</li>
<li><strong>databend-query: change bloom filter to use datavalue2</strong> by <a href="https://github.com/junli1026">@junli1026</a>, (<a href="https://github.com/datafuselabs/databend/pull/4418">#4418</a>)</li>
<li><strong>functions: refactor ScalarExpression and add simd operator</strong> by <a href="https://github.com/zhyass">@zhyass</a>, (<a href="https://github.com/datafuselabs/databend/pull/4375">#4375</a>)</li>
</ul>
<h2 id="performance-improvement">Performance Improvement</h2>
<ul>
<li><strong>databend-query&amp;datablocks: introduce HashMethodSingleString</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4417">#4417</a>)</li>
<li><strong>databend-query: dedicated runtime for io tasks</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4404">#4404</a>)</li>
</ul>
<h2 id="bug-fixes">Bug fixes</h2>
<ul>
<li><strong>databend-query: fix hang after async processor throw error</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4380">#4380</a>)</li>
<li><strong>databend-query: global MetaGrpcClient cause dispatch drop error</strong> by <a href="https://github.com/ariesdevil">@ariesdevil</a>, (<a href="https://github.com/datafuselabs/databend/pull/4361">#4361</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="deploy-databend-and-try-to-develop">Deploy Databend and try to develop</h3>
<p>Databend has now completely updated its online documentation, supports for multiple deployment scenarios including local disk, s3, minio, and more, and provides first step for application developers in Go and Python.</p>
<p><strong>Deploy</strong></p>
<ul>
<li><a href="https://databend.rs/doc/deploy/local">With local disk</a>: https://databend.rs/doc/deploy/local</li>
<li><a href="https://databend.rs/doc/deploy/s3">With AWS S3</a>: https://databend.rs/doc/deploy/s3</li>
<li><a href="https://databend.rs/doc/deploy/minio">With MinIO</a>: https://databend.rs/doc/deploy/minio</li>
</ul>
<p><strong>Develop</strong></p>
<ul>
<li><a href="https://databend.rs/doc/develop/go">With Go</a>: https://databend.rs/doc/develop/go</li>
<li><a href="https://databend.rs/doc/develop/python">With Python</a>: https://databend.rs/doc/develop/python</li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.93-nightly">v0.6.93-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.92-nightly">v0.6.92-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.91-nightly">v0.6.91-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.90-nightly">v0.6.90-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.89-nightly">v0.6.89-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.88-nightly">v0.6.88-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.87-nightly">v0.6.87-nightly</a></li>
</ul>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-03-09-databend-weekly/">This week in Databend #32</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-03-09
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> aimed to be an open source <strong>elastic</strong> and <strong>reliable</strong> cloud warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><strong>databend-query: external source with new processor</strong>: make external source(like S3) as table engine. by <a href="https://github.com/BohuTANG">@BohuTANG</a>, (<a href="https://github.com/datafuselabs/databend/pull/4277">#4277</a>)</li>
<li><strong>functions: support <code>EXTRACT</code> &amp;&amp; <code>toYear</code></strong> by <a href="https://github.com/clark1013">@clark1013</a>, (<a href="https://github.com/datafuselabs/databend/pull/4329">#4329</a>)</li>
</ul>
<h2 id="improvement">Improvement</h2>
<ul>
<li><strong>databend-query: add more metrics into query_log table</strong>: io metrics of dal level. by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4365">#4365</a>)</li>
<li><strong>databend-meta: refactor role identity</strong>: remove host for role identity. by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4370">#4370</a>)</li>
<li><strong>databend-query: refactor the comparison function by using <code>ScalarBinaryExpression</code></strong> by <a href="https://github.com/zhyass">@zhyass</a>, (<a href="https://github.com/datafuselabs/databend/pull/4285">#4285</a>)</li>
<li><strong>databend-query: add CALL command</strong>: impl CALL syntax parser, add Trait for system function. by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4315">#4315</a>)</li>
</ul>
<h2 id="performance-improvement">Performance Improvement</h2>
<ul>
<li><strong>datablocks&amp;datavalues: support nullable group by</strong>: improved by 60% on the second query with metacache. by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4340">#4340</a>)</li>
<li><strong>datablocks: use `SmallVec`` to improve HashMethod Serialize</strong>: improved by 30%~50% in ontime dataset. by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4353">#4353</a>)</li>
<li><strong>datavalues: Simd Selection of column filter</strong>: improved by ~25%. by <a href="https://github.com/platoneko">@platoneko</a>, (<a href="https://github.com/datafuselabs/databend/pull/4271">#4271</a>)</li>
</ul>
<h2 id="bug-fixes">Bug fixes</h2>
<ul>
<li><strong>databend-query: fix broken tracing spans</strong> by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4356">#4356</a>)</li>
<li><strong>mysql servers: make async executor running inside the right runtime</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4334">#4334</a>)</li>
<li><strong>mysql servers: fix hangs on authenticate</strong> by <a href="https://github.com/flaneur2020">@flaneur2020</a>, (<a href="https://github.com/datafuselabs/databend/pull/4317">#4317</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="rfc-semi-structured-data-types">RFC: Semi-structured Data Types</h3>
<p>Semi-structured data types are used to represent schemaless data formats, such as JSON, XML, and so on.
In order to be compatible with <a href="https://docs.snowflake.com/en/sql-reference/data-types-semistructured.html">Snowflake's SQL syntax</a>, we plan to support the following three semi-structured data types:</p>
<ul>
<li><code>Variant</code>: A tagged universal type, which can store values of any other type, including <code>Object</code> and <code>Array</code>.</li>
<li><code>Object</code>: Used to represent collections of key-value pairs, where the key is a non-empty string, and the value is a value of <code>Variant</code> type.</li>
<li><code>Array</code>: Used to represent dense or sparse arrays of arbitrary size, where the index is a non-negative integer (up to 2^31-1), and values are <code>Variant</code> types.</li>
</ul>
<p><strong>For more information</strong> see <a href="https://databend.rs/dev/rfcs/query/semi-structured-data-types">Semi-structured data types design</a>. <strong>For ongoing work</strong> see <a href="https://github.com/datafuselabs/databend/pull/4348">databend#4348</a>.</p>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.86-nightly">v0.6.86-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.85-nightly">v0.6.85-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.84-nightly">v0.6.84-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.83-nightly">v0.6.83-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.82-nightly">v0.6.82-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.81-nightly">v0.6.81-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.80-nightly">v0.6.80-nightly</a></li>
</ul>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-03-02-databend-weekly/">This week in Databend #31</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-03-02
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> aimed to be an open source <strong>elastic</strong> and <strong>reliable</strong> cloud warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><strong>databend-meta: add rename_table for meta api</strong>: remove old table record and add a new one in a sled-tree-transaction. by <a href="https://github.com/Junnplus">@Junnplus</a>, (<a href="https://github.com/datafuselabs/databend/pull/4288">#4288</a>)</li>
<li><strong>databend-query: support COPY from external location(S3)</strong>: load files from a storage location (Amazon S3). by <a href="https://github.com/BohuTANG">@BohuTANG</a>, (<a href="https://github.com/datafuselabs/databend/pull/4170">#4170</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/4241">#4241</a>)</li>
<li><strong>bendctl: add package purge subcommand</strong> by <a href="https://github.com/linyihai">@linyihai</a>, (<a href="https://github.com/datafuselabs/databend/pull/4245">#4245</a>)</li>
</ul>
<h2 id="improvement">Improvement</h2>
<ul>
<li><strong>databend-query: use database_id/table_id as data file prefix</strong>: no more having all parquet files in one big directory. by <a href="https://github.com/dantengsky">@dantengsky</a>, (<a href="https://github.com/datafuselabs/databend/pull/4273">#4273</a>)</li>
<li><strong>databend-query: support aggregate sum/avg booleans</strong> by <a href="https://github.com/everpcpc">@everpcpc</a>, (<a href="https://github.com/datafuselabs/databend/pull/4237">#4237</a>)</li>
<li><strong>databend-query: zero extra cost of async trait</strong>: use GAT feature instead of <code>#[async_trait]</code> in some hot path. by <a href="https://github.com/sundy-li">@sundy-li</a>, (<a href="https://github.com/datafuselabs/databend/pull/4269">#4269</a>)</li>
<li><strong>databend-query: implement new processor for system tables &amp; github &amp; memory &amp; null engine</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>, (<a href="https://github.com/datafuselabs/databend/pull/4166">#4166</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/4272">#4272</a>)</li>
</ul>
<h2 id="build-test-ci">Build/Test/CI</h2>
<ul>
<li>With <a href="https://github.com/datafuselabs/databend/pull/4229"><strong>change to wiremock from httpmock</strong></a> and a series of other PRs, <a href="https://github.com/PsiACE">@PsiACE</a> removed ~60 dependencies for clippy and test.</li>
</ul>
<h2 id="bug-fixes">Bug fixes</h2>
<ul>
<li><strong>dal_context: use ObserveReader to calculate metrics</strong>: calculate the read cost time correctly. by <a href="https://github.com/Xuanwo">@Xuanwo</a>, (<a href="https://github.com/datafuselabs/databend/pull/4298">#4298</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="loading-files-from-s3-external-location">Loading files from S3 External Location</h3>
<p>Benefit from <a href="https://github.com/datafuselabs/databend/pull/4170">#4170</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/4241">#4241</a>, Databend now has the ability to load CSV format files from the s3 external location.</p>
<p>Here's an example of reading 5 lines from a file:</p>
<pre data-lang="sql" style="background-color:#151515;color:#e8e8d3;" class="language-sql "><code class="language-sql" data-lang="sql"><span>COPY INTO ontime FROM </span><span style="color:#556633;">&#39;</span><span style="color:#99ad6a;">s3://databend-external/t_ontime/t_ontime.csv</span><span style="color:#556633;">&#39;
</span><span>    CREDENTIALS=(aws_key_id=</span><span style="color:#556633;">&#39;</span><span style="color:#99ad6a;">&lt;your-key-id&gt;</span><span style="color:#556633;">&#39;</span><span> aws_secret_key=</span><span style="color:#556633;">&#39;</span><span style="color:#99ad6a;">&lt;your-secret-key&gt;</span><span style="color:#556633;">&#39;</span><span>)
</span><span>    FILE_FORMAT = (type = </span><span style="color:#556633;">&quot;</span><span style="color:#99ad6a;">CSV</span><span style="color:#556633;">&quot;</span><span> field_delimiter = </span><span style="color:#556633;">&#39;</span><span style="color:#99ad6a;">\t</span><span style="color:#556633;">&#39;</span><span>  record_delimiter = </span><span style="color:#556633;">&#39;</span><span style="color:#99ad6a;">\n</span><span style="color:#556633;">&#39;</span><span> skip_header = </span><span style="color:#cf6a4c;">1</span><span>)
</span><span>    SIZE_LIMIT=</span><span style="color:#cf6a4c;">5</span><span>; </span><span style="color:#888888;">/* only read 5 rows */
</span><span>
</span><span style="color:#888888;">/* Check. */
</span><span>SELECT </span><span style="color:#ffb964;">* </span><span>FROM ontime;
</span></code></pre>
<p><strong>Note</strong> To learn more, check out:</p>
<ul>
<li><a href="https://databend.rs/user/data-loading/loading-from-external-location">Loading files from S3 External Location</a>.</li>
<li><a href="https://databend.rs/user/sql-statement/dml/dml-copy">COPY command</a></li>
</ul>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.79-nightly">v0.6.79-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.78-nightly">v0.6.78-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.77-nightly">v0.6.77-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.76-nightly">v0.6.76-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.75-nightly">v0.6.75-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.74-nightly">v0.6.74-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.73-nightly">v0.6.73-nightly</a></li>
</ul>
<h2 id="ecosystem-upstream">Ecosystem/Upstream</h2>
<p>From open source, for open source. Our team is also committed to contributing to the Rust ecosystem and upstream dependencies.</p>
<h3 id="upstream">Upstream</h3>
<ul>
<li><a href="https://github.com/jorgecarleitao/arrow2/pull/871">arrow2 #871: Improved performance of filter performance via Simd selection [3x]</a> by <a href="https://github.com/sundy-li/">@sundy-li</a>.</li>
</ul>
<h3 id="opendal-announced-v0-1">OpenDAL announced v0.1</h3>
<p>We announced that Open Data Access Layer is in v0.1. Let's look at what's different together.</p>
<ul>
<li>Observe reader support (<a href="https://github.com/datafuselabs/opendal/pull/92">opendal#92</a>)</li>
<li>Object Stream (<a href="https://github.com/datafuselabs/opendal/pull/69">opendal#69</a>)</li>
<li>List support (<a href="https://github.com/datafuselabs/opendal/pull/76">opendal#76</a>)</li>
<li>Auto Region (<a href="https://github.com/datafuselabs/opendal/pull/59">opendal#59</a>)</li>
</ul>
<p>Welcome to use OpenDAL(<a href="https://github.com/datafuselabs/opendal">github</a>, <a href="https://crates.io/crates/opendal">crates.io</a>) to connect your data and applications.</p>
<h3 id="big-changes-are-happening-at-openraft">Big changes are happening at OpenRaft</h3>
<p>Although no new releases have been made recently, we have seen some important changes with <a href="https://github.com/schreter">@schreter</a>'s help.</p>
<ul>
<li>Refactor storage APIs to allow more clear ownership of data. (<a href="https://github.com/datafuselabs/openraft/pull/199">openraft#199</a>)</li>
<li>Make NodeId type configurable via RaftTypeConfig. (<a href="https://github.com/datafuselabs/openraft/pull/220">openraft#220</a>)</li>
</ul>
<p>Feel free to visit <a href="https://github.com/datafuselabs/openraft/pulse">Insights/Pulse</a> to observe all changes, and it would be great if you would like to try it out in advance.</p>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-02-23-databend-weekly/">This week in Databend #30</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-02-23
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> aimed to be an open source <strong>elastic</strong> and <strong>reliable</strong> cloud warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><strong>support <code>REGEXP_LIKE</code> function</strong>  by <a href="https://github.com/nange">@nange</a>. (<a href="https://github.com/datafuselabs/databend/pull/4220">#4220</a>)</li>
</ul>
<h2 id="improvement">Improvement</h2>
<ul>
<li><strong>add create/drop role, allows grant to roles</strong> by <a href="https://github.com/flaneur2020">@flaneur2020</a>. (<a href="https://github.com/datafuselabs/databend/pull/4194">#4194</a>)</li>
<li><strong>use listen addr when start grpc</strong> by <a href="https://github.com/lichuang">@lichuang</a>. (<a href="https://github.com/datafuselabs/databend/pull/4199">#4199</a>)</li>
<li><strong>add role cache mgr</strong> by <a href="https://github.com/flaneur2020">@flaneur2020</a>. (<a href="https://github.com/datafuselabs/databend/pull/4165">#4165</a>)</li>
<li><strong>migrate more functions for datavalue2</strong>
<ul>
<li>refactor function in basic by <a href="https://github.com/Veeupup">@Veeupup</a> (<a href="https://github.com/datafuselabs/databend/pull/4192">#4192</a>)</li>
<li>migrate abs/degress/radians to function2 by <a href="https://github.com/PsiACE">@PsiACE</a>. (<a href="https://github.com/datafuselabs/databend/pull/4173">#4173</a>)</li>
<li>all remaining functions by <a href="https://github.com/sundy-li">@sundy-li</a>. (<a href="https://github.com/datafuselabs/databend/pull/4176">#4176</a> &amp; <a href="https://github.com/datafuselabs/databend/pull/4200">#4200</a>)</li>
</ul>
</li>
</ul>
<blockquote>
<p>In particular, with the merging of <a href="https://github.com/datafuselabs/databend/pull/4200">#4200 rename datavalues2 to datavalues</a>, we now have a whole new set of datavalues and have successfully migrated all the relevant code.</p>
</blockquote>
<h2 id="bug-fixes">Bug fixes</h2>
<ul>
<li><strong>refactor join cluster process</strong> by <a href="https://github.com/lichuang">@lichuang</a>. (<a href="https://github.com/datafuselabs/databend/pull/4219">#4219</a>)</li>
<li><strong>fix arithmetic with null type bug</strong> by <a href="https://github.com/zhyass">@zhyass</a>. (<a href="https://github.com/datafuselabs/databend/pull/4221">#4221</a>)</li>
<li><strong>fix if bug with null column</strong> by <a href="https://github.com/veeupup">@Veeupup</a>. (<a href="https://github.com/datafuselabs/databend/pull/4207">#4207</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="how-to-eliminate-oom-at-build-time">How to eliminate OOM at build time</h3>
<p>Databend has <a href="https://github.com/datafuselabs/databend/tree/main/common/functions">a large crate to manage and implement most of the functions</a>. This means that the following error may be reported at build time:</p>
<blockquote>
<p>(signal: 9, SIGKILL: kill) warning: build failed, waiting for other jobs to finish... error: build failed.</p>
</blockquote>
<p>We observed that this phenomenon is mainly due to memory overflow during linking. This should be a problem that many giant rust projects may have to face, so let's see how to solve it.</p>
<ol>
<li>Use a better linker. Modern linkers like <a href="https://github.com/rui314/mold">mold</a>, which in addition to being faster, are also more memory friendly, can reduce this problem to some extent.</li>
<li>Enable the newer symbol mangling scheme. In the latest nightly Rust, this means that <code>-C symbol-manging-version=v0</code>. It generates smaller symbols, and we observe a great memory reduction.</li>
<li>Consider allocate more virtual memory. Of course, this is definitely a valid approach, but it may require adding another dozen GiB.</li>
</ol>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.66-nightly">v0.6.72-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.65-nightly">v0.6.71-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.64-nightly">v0.6.70-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.63-nightly">v0.6.69-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.62-nightly">v0.6.68-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.61-nightly">v0.6.67-nightly</a></li>
</ul>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            
                <div class="post on-list">
                    
    <h1 class="post-title"><a href="https://weekly.databend.rs/2022-02-16-databend-weekly/">This week in Databend #29</a></h1>
    <div class="post-meta-inline">
        
    <span class="post-date">
            2022-02-16
        </span>

    </div>

    

                    
        <div class="post-content">
            <p><a href="https://github.com/datafuselabs/databend">Databend</a> aimed to be an open source <strong>elastic</strong> and <strong>reliable</strong> cloud warehouse, it offers blazing fast query and combines elasticity, simplicity, low cost of the cloud, built to make the Data Cloud easy.</p>
<h2 id="big-changes">Big changes</h2>
<p>Below is a list of some major changes that we don't want you to miss.</p>
<h3 id="features">Features</h3>
<ul>
<li><strong>add metactl to dump data in json from a sled db</strong>  by <a href="https://github.com/drmingdrmer">@drmingdrmer</a>. (<a href="https://github.com/datafuselabs/databend/pull/4167">#4167</a>)</li>
<li><strong>integrate select query with new processor</strong> by <a href="https://github.com/zhang2014">@zhang2014</a>. (<a href="https://github.com/datafuselabs/databend/pull/3932">#3932</a>)</li>
<li><strong>add hash function city64WithSeed</strong> by <a href="https://github.com/junli1026">@junli1026</a>. (<a href="https://github.com/datafuselabs/databend/pull/4131">#4131</a>)</li>
</ul>
<h2 id="improvement">Improvement</h2>
<ul>
<li><strong>refactorings about show plan</strong> by <a href="https://github.com/BohuTANG">@BohuTANG</a>. (<a href="https://github.com/datafuselabs/databend/pull/4130">#4130</a>, <a href="https://github.com/datafuselabs/databend/pull/4138">#4138</a>, etc.)</li>
<li><strong>scalar introduce Viewer &amp; ViewerIter GATs</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>. (<a href="https://github.com/datafuselabs/databend/pull/4093">#4093</a>)</li>
<li><strong>migrate more functions for datavalue2</strong>
<ul>
<li>interval function by <a href="https://github.com/zhyass">@zhyass</a>. (<a href="https://github.com/datafuselabs/databend/pull/4096">#4096</a>)</li>
<li>most of string functions by <a href="https://github.com/Veeupup">@Veeupup</a> &amp; <a href="https://github.com/sundy-li">@sundy-li</a>. (track in #<a href="https://github.com/datafuselabs/databend/issues/3975">3975</a>)</li>
<li>some math functions by <a href="https://github.com/PsiACE">@PsiACE</a> &amp; <a href="https://github.com/sundy-li">@sundy-li</a>. (track in #<a href="https://github.com/datafuselabs/databend/issues/3972">3972</a>)</li>
</ul>
</li>
</ul>
<h2 id="performance-improvement">Performance Improvement</h2>
<ul>
<li><strong>refactor if to get better performence</strong> by <a href="https://github.com/Veeupup">@Veeupup</a>. (<a href="https://github.com/datafuselabs/databend/pull/4160">#4160</a>)</li>
<li><strong>improve storage accessor initate logic</strong> by <a href="https://github.com/BohuTANG">@BohuTANG</a>. (<a href="https://github.com/datafuselabs/databend/pull/4159">#4159</a>)</li>
</ul>
<h2 id="bug-fixes">Bug fixes</h2>
<ul>
<li><strong>Fix Analyze between</strong> by <a href="https://github.com/sundy-li">@sundy-li</a>. (<a href="https://github.com/datafuselabs/databend/pull/4136">#4136</a>)</li>
<li><strong>app-error should not fail state machine txn</strong>  by <a href="https://github.com/drmingdrmer">@drmingdrmer</a>. (<a href="https://github.com/datafuselabs/databend/pull/4099">#4099</a>)</li>
</ul>
<h2 id="tips">Tips</h2>
<p>Let's learn a weekly tip from Databend.</p>
<h3 id="announce-opendal">Announce OpenDAL</h3>
<p><strong>Open</strong> <strong>D</strong>ata <strong>A</strong>ccess <strong>L</strong>ayer that connect the whole world together.</p>
<ul>
<li>General: designed for any workload, not only for Databend.</li>
<li>Zero-Overhead: Using this lib is just like using the native SDK.</li>
<li>Easy to understand: Both for using and implementing.</li>
</ul>
<p>This project has now been separated from Databend and is offered as a separate project -&gt; <a href="https://github.com/datafuselabs/opendal">datafuselabs/opendal</a>.</p>
<p>Please see <a href="https://github.com/datafuselabs/databend/discussions/3662">proposal: Vision of Databend DAL</a> for the vision of OpenDAL.</p>
<p>See its change history details in <a href="https://github.com/datafuselabs/databend/issues/3677">#3677</a>.</p>
<h2 id="changlogs">Changlogs</h2>
<p>You can check the changelogs of Databend nightly to learn about our latest developments.</p>
<ul>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.66-nightly">v0.6.66-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.65-nightly">v0.6.65-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.64-nightly">v0.6.64-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.63-nightly">v0.6.63-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.62-nightly">v0.6.62-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.61-nightly">v0.6.61-nightly</a></li>
<li><a href="https://github.com/datafuselabs/databend/releases/tag/v0.6.60-nightly">v0.6.60-nightly</a></li>
</ul>
<h2 id="ecosystem-upstream">Ecosystem/Upstream</h2>
<p>From open source, for open source. Our team is also committed to contributing to the Rust ecosystem and upstream dependencies.</p>
<ul>
<li><a href="https://github.com/datafuselabs/opendal">datafuselabs/opendal</a>: <em>O</em>pen <em>D</em>ata <em>A</em>ccess <em>L</em>ayer that connect the whole world together. Work led by <a href="https://github.com/Xuanwo/">@Xuanwo</a></li>
<li><a href="https://github.com/PsiACE/bitsvec">bitsvec</a>: A bit vector with the Rust standard library's portable SIMD API. by <a href="https://github.com/PsiACE/">@PsiACE</a></li>
</ul>
<h2 id="meet-us">Meet Us</h2>
<p>Please join the <a href="https://github.com/datafuselabs/">DatafuseLabs Community</a> if you are interested in Databend.</p>
<p>We are looking forward to seeing you try our code. We have a strong team behind you to ensure a smooth experience in trying our code for your projects.
If you are a hacker passionate about database internals, feel free to play with our code.</p>
<p>You can submit <a href="https://github.com/datafuselabs/databend/issues">issues</a> for any problems you find. We also highly appreciate any of your pull requests.</p>
<ul>
<li><a href="https://databend.rs">Databend Website</a></li>
<li><a href="https://twitter.com/Datafuse_Labs">Twitter</a></li>
<li><a href="https://github.com/datafuselabs/databend/discussions">GitHub Discussions</a></li>
<li><a href="https://link.databend.rs/join-slack">Slack Channel</a></li>
</ul>

        </div>

                </div>
            <div class="pagination">
                <div class="pagination__buttons">
                    <span class="button previous">
                        <a href="https://weekly.databend.rs/page/8/">
                            <span class="button__icon">←</span>&nbsp;
                            <span class="button__text">Newer posts</span>
                        </a>
                    </span>
                
                    <span class="button next">
                        <a href="https://weekly.databend.rs/page/10/">
                            <span class="button__text">Older posts</span>&nbsp;
                            <span class="button__icon">→</span>
                        </a>
                    </span>
                </div>
            </div>
        </div>
        
    </div>

    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>© 
    2022
 Datafuse Labs</span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
